(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{372:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"module-container"},[i("module-nav",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(" "),i("div",{staticClass:"module-content"},[i("div",{staticClass:"in"},[i("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[i("table",{staticClass:"input-tb"},[i("tbody",[i("tr",{class:t.getClass(t.error.name),attrs:{id:"name"}},[i("td",[t._v("名称")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"}),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.name))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.detection_pos_id),attrs:{id:"detection_pos_id"}},[i("td",[t._v("检测位置")]),t._v(" "),i("td",[i("i-select",{staticStyle:{width:"300px"},on:{"on-change":t.setPreview},model:{value:t.form.detection_pos_id,callback:function(e){t.$set(t.form,"detection_pos_id",e)},expression:"form.detection_pos_id"}},t._l(t.position,function(e){return i("i-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.group?e.name+"【分组："+e.group.name+"】":e.name))])}),1),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"}),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.detection_pos_id))])],1)]),t._v(" "),i("tr",{class:t.getClass(t.error.option),attrs:{id:"option"}},[i("td",[t._v("选项")]),t._v(" "),i("td",{ref:"option"},[t._l(t.option,function(e,s){return i("div",{key:s,staticClass:"line"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.key,expression:"v.key"}],staticClass:"form-text",attrs:{type:"text",placeholder:"键名"},domProps:{value:e.key},on:{input:function(i){i.target.composing||t.$set(e,"key",i.target.value)}}}),t._v("\n                                ：\n                                "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"v.value"}],staticClass:"form-text",attrs:{type:"text",placeholder:"键值"},domProps:{value:e.value},on:{input:function(i){i.target.composing||t.$set(e,"value",i.target.value)}}}),t._v(" "),i("button",{staticClass:"run-button run-button-orange",attrs:{type:"button"},on:{click:function(e){return t.option.splice(s,1)}}},[t._v("删除")]),t._v(" "),s+1==t.option.length?i("button",{staticClass:"run-button run-button-blue",attrs:{type:"button"},on:{click:function(e){return t.option.push({key:"",value:""})}}},[t._v("+ 新增")]):t._e()])}),t._v(" "),0==t.option.length?i("button",{staticClass:"run-button run-button-blue",attrs:{type:"button"},on:{click:function(e){return t.option.push({key:"",value:""})}}},[t._v("+ 新增")]):t._e(),t._v(" "),i("span",{staticClass:"necessary"}),t._v(" "),i("span",{staticClass:"tip"},[t._v("选项必须存在！如非必要请勿改动")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.option))])],2)]),t._v(" "),i("tr",{class:t.getClass(t.error.value),attrs:{id:"value"}},[i("td",[t._v("映射值")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.value,expression:"form.value"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.value},on:{input:function(e){e.target.composing||t.$set(t.form,"value",e.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"}),t._v(" "),i("span",{staticClass:"tip"},[t._v("选项默认值，请填写 key！默认：normal")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.value))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.map_value),attrs:{id:"map_value"}},[i("td",[t._v("映射值")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.map_value,expression:"form.map_value"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.map_value},on:{input:function(e){e.target.composing||t.$set(t.form,"map_value",e.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"}),t._v(" "),i("span",{staticClass:"tip"},[t._v("如果有映射图，则该选项能很好的做映射")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.map_value))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.weight),attrs:{id:"weight"}},[i("td",[t._v("权重")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.weight,expression:"form.weight"}],staticClass:"form-text",attrs:{type:"number",step:"0"},domProps:{value:t.form.weight},on:{input:function(e){e.target.composing||t.$set(t.form,"weight",e.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"}),t._v(" "),i("span",{staticClass:"tip"},[t._v("默认：0，仅允许输入整数")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.weight))])])]),t._v(" "),t._m(0)])]),t._v(" "),i("div",{staticClass:"preview"},[i("div",{staticClass:"in"},[t.preview?i("img",{staticClass:"image",attrs:{src:t.preview}}):i("div",{staticClass:"empty"},[t._v("暂无模块映射图，请前往检测模块处添加（可选）")])])])])])]),t._v(" "),i("v-loading",{ref:"loading"})],1)};s._withStripped=!0;var n={name:"v-brand",data:function(){return{form:{name:"",detection_pos_id:0,weight:0,value:"normal"},error:{},ajax:{get:null,submit:null},dom:{},ins:{loading:null},pending:{submit:null},data:{},callback:{},api:detectionItemApi,position:[],option:[{key:"normal",value:"正常"},{key:"exception",value:"异常"}],preview:""}},created:function(){},mounted:function(){this.initDom(),this.initInstance(),this.initialize()},mixins:[mixins.state,mixins.loading,mixins.form.get,mixins.form.confirm],methods:{initDom:function(){},initInstance:function(){},initialize:function(){var t=this;new Promise(function(e){t.ins.loading.show(),detectionPosApi.all(function(i,s){if(200!=s)return t.eNotice(i),void e(!1);t.position=i,e(!0)})}).then(function(e){return new Promise(function(i){e?t.getData(function(){t.setPreview(t.form.detection_pos_id),"edit"==t.param.mode&&(t.option=G.jsonDecode(t.form.option)),i()}):i()})}).finally(function(){t.ins.loading.hide()})},check:function(t){return{status:!0,field:"",msg:""}},getOption:function(){this.form.option=G.jsonEncode(this.option)},setPreview:function(t){for(var e=this,i=0,s=null;i<this.position.length;++i)if((s=this.position[i]).id==t)return this.ajax.module instanceof G.ajax&&this.ajax.module.native("abort"),void(this.ajax.module=detectionModuleApi.detail(s.detection_module_id,function(t,i){200==i?e.preview=t.image_explain:e.eNotice(t)}));this.preview=""},submit:function(){var t=this;new Promise(function(e){if(t.pending.submit)t.$info("请求中...请耐心等待");else{var i=t.check();if(!i.status)return t.error[i.field]=i.msg,void vScroll(i.field);t.getOption(),t.pending.submit=!0,t.ins.loading.show(),t.ajax.submit=t.api[t.param.mode](t.form,function(i,s){if(t.error={},200!=s)return t.initialState("loading","submit","submit"),400==s?(t.error=i,void vScroll(G.firstKey(i))):void t.$error(i);t.form.id=i,e()}),t.ins.loading.setArgs(t.ajax.submit,"submit")}}).then(function(){t.confirm("检测项","/detectionItem/list")}).finally(function(){t.initialState("loading","submit","submit")})}}},a=(i(393),i(619),i(620),i(14)),o=Object(a.a)(n,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"2"}},[e("button",{staticClass:"run-button run-button-submit",attrs:{type:"submit"}},[this._v("提交")])])])}],!1,null,"01f5038c",null);o.options.__file="source/vue/view/DetectionItem/thing.vue";e.default=o.exports},392:function(t,e,i){},393:function(t,e,i){"use strict";var s=i(392);i.n(s).a},477:function(t,e,i){},478:function(t,e,i){},619:function(t,e,i){"use strict";var s=i(477);i.n(s).a},620:function(t,e,i){"use strict";var s=i(478);i.n(s).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvRGV0ZWN0aW9uSXRlbS90aGluZy52dWU/ZGExNiIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvRGV0ZWN0aW9uSXRlbS9qcy90aGluZy5qcyIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvRGV0ZWN0aW9uSXRlbS9qcy90aGluZy5qcz8wNTFiIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9EZXRlY3Rpb25JdGVtL3RoaW5nLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvcHVibGljL2Nzcy9nbG9iYWwuY3NzIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9wdWJsaWMvY3NzL3B1YmxpYy5jc3M/MGExNSIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvRGV0ZWN0aW9uSXRlbS9jc3MvdGhpbmcuY3NzIl0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiYXR0cnMiLCJ0b3BSb3V0ZSIsInBvcyIsIl92Iiwib24iLCJzdWJtaXQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzIiwiZ2V0Q2xhc3MiLCJlcnJvciIsIm5hbWUiLCJpZCIsImRpcmVjdGl2ZXMiLCJyYXdOYW1lIiwidmFsdWUiLCJmb3JtIiwiZXhwcmVzc2lvbiIsInR5cGUiLCJkb21Qcm9wcyIsImlucHV0IiwidGFyZ2V0IiwiY29tcG9zaW5nIiwiJHNldCIsIl9zIiwiZGV0ZWN0aW9uX3Bvc19pZCIsInN0YXRpY1N0eWxlIiwid2lkdGgiLCJvbi1jaGFuZ2UiLCJzZXRQcmV2aWV3IiwibW9kZWwiLCJjYWxsYmFjayIsIiQkdiIsIl9sIiwicG9zaXRpb24iLCJ2Iiwia2V5IiwiZ3JvdXAiLCJvcHRpb24iLCJyZWYiLCJrIiwicGxhY2Vob2xkZXIiLCJjbGljayIsInNwbGljZSIsImxlbmd0aCIsInB1c2giLCJfZSIsIm1hcF92YWx1ZSIsIndlaWdodCIsInN0ZXAiLCJfbSIsInByZXZpZXciLCJzcmMiLCJfd2l0aFN0cmlwcGVkIiwianNfdGhpbmd2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18iLCJkYXRhIiwiYWpheCIsImdldCIsImRvbSIsImlucyIsImxvYWRpbmciLCJwZW5kaW5nIiwiYXBpIiwiZGV0ZWN0aW9uSXRlbUFwaSIsImNyZWF0ZWQiLCJtb3VudGVkIiwiaW5pdERvbSIsImluaXRJbnN0YW5jZSIsImluaXRpYWxpemUiLCJtaXhpbnMiLCJzdGF0ZSIsImNvbmZpcm0iLCJtZXRob2RzIiwiX3RoaXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNob3ciLCJkZXRlY3Rpb25Qb3NBcGkiLCJhbGwiLCJyZXMiLCJjb2RlIiwiZU5vdGljZSIsInRoZW4iLCJuZXh0IiwiZ2V0RGF0YSIsInBhcmFtIiwibW9kZSIsIkciLCJqc29uRGVjb2RlIiwiZmluYWxseSIsImhpZGUiLCJjaGVjayIsInN0YXR1cyIsImZpZWxkIiwibXNnIiwiZ2V0T3B0aW9uIiwianNvbkVuY29kZSIsIl90aGlzMiIsImkiLCJjdXIiLCJtb2R1bGUiLCJuYXRpdmUiLCJkZXRlY3Rpb25Nb2R1bGVBcGkiLCJkZXRhaWwiLCJkZXRlY3Rpb25fbW9kdWxlX2lkIiwiaW1hZ2VfZXhwbGFpbiIsIl90aGlzMyIsIiRpbmZvIiwiZmlsdGVyIiwidlNjcm9sbCIsImluaXRpYWxTdGF0ZSIsImZpcnN0S2V5IiwiJGVycm9yIiwic2V0QXJncyIsImNvbXBvbmVudCIsIk9iamVjdCIsImNvbXBvbmVudE5vcm1hbGl6ZXIiLCJjb2xzcGFuIiwib3B0aW9ucyIsIl9fZmlsZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJfbm9kZV9tb2R1bGVzX21pbmlfY3NzX2V4dHJhY3RfcGx1Z2luX2Rpc3RfbG9hZGVyX2pzX25vZGVfbW9kdWxlc19jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX2dsb2JhbF9jc3NfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMF9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJuIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19wdWJsaWNfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzFfaWRfMDFmNTAzOGNfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfbm9kZV9tb2R1bGVzX21pbmlfY3NzX2V4dHJhY3RfcGx1Z2luX2Rpc3RfbG9hZGVyX2pzX25vZGVfbW9kdWxlc19jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX3RoaW5nX2Nzc192dWVfdHlwZV9zdHlsZV9pbmRleF8yX2lkXzAxZjUwMzhjX3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIl0sIm1hcHBpbmdzIjoia0dBQUEsSUFBQUEsRUFBQSxXQUNBLElBQUFDLEVBQUFDLEtBQ0FDLEVBQUFGLEVBQUFHLGVBQ0FDLEVBQUFKLEVBQUFLLE1BQUFELElBQUFGLEVBQ0EsT0FBQUUsRUFDQSxNQUNBLENBQUtFLFlBQUEsb0JBQ0wsQ0FDQUYsRUFBQSxjQUF3QkcsTUFBQSxDQUFTQyxTQUFBUixFQUFBUSxTQUFBQyxJQUFBVCxFQUFBUyxPQUNqQ1QsRUFBQVUsR0FBQSxLQUNBTixFQUFBLE9BQWlCRSxZQUFBLGtCQUFnQyxDQUNqREYsRUFBQSxPQUFtQkUs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QVFxRSxPQUNiOEIsUUFBUXRCLEVBQUV3QixTQUFTaEMsVUFHdkIyQixFQUFLTSxPQUFPakMsR0FHaEIyQixFQUFLMUYsS0FBS0osR0FBS21FLEVBQ2ZKLE1BRUorQixFQUFLL0MsSUFBSUMsUUFBUXFELFFBQVFQLEVBQUtsRCxLQUFLbkQsT0FBUyxhQUM3QzZFLEtBQUssV0FDSndCLEVBQUtuQyxRQUFRLE1BQVEseUJBQ3RCa0IsUUFBUSxXQUNQaUIsRUFBS0ksYUFBYSxVQUFZLFNBQVcsOENFNUp6REksRUFBZ0JDLE9BQUFDLEVBQUEsRUFBQUQsQ0FDZDdELEVBQ0E5RCxFSDRaRixDQUNBLFdBQ0EsSUFDQUcsRUFEQUQsS0FDQUUsZUFDQUMsRUFGQUgsS0FFQUksTUFBQUQsSUFBQUYsRUFDQSxPQUFBRSxFQUFBLE1BQ0FBLEVBQUEsTUFBZ0JHLE1BQUEsQ0FBU3FILFFBQUEsTUFBaUIsQ0FDMUN4SCxFQUNBLFNBQ0EsQ0FDQUUsWUFBQSwrQkFDQUMsTUFBQSxDQUFvQmtCLEtBQUEsV0FFcEIsQ0FYQXhCLEtBV0FTLEdBQUEsZUd2YUEsRUFDQSxLQUNBLFdBQ0EsTUF1QkErRyxFQUFBSSxRQUFBQyxPQUFBLDBDQUNlQyxFQUFBLFFBQUFOLGtFQ3pDZixJQUFBTyxFQUFBQyxFQUFBLEtBQUFBLEVBQUFDLEVBQUFGLEdBQTJSLGdGQ0EzUixJQUFBRyxFQUFBRixFQUFBLEtBQUFBLEVBQUFDLEVBQUFDLEdBQW1ULG9DQ0FuVCxJQUFBQyxFQUFBSCxFQUFBLEtBQUFBLEVBQUFDLEVBQUFFLEdBQWtUIiwiZmlsZSI6ImpzLzMwLmpzP3ZlcnNpb249MS4wLjAiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgeyBzdGF0aWNDbGFzczogXCJtb2R1bGUtY29udGFpbmVyXCIgfSxcbiAgICBbXG4gICAgICBfYyhcIm1vZHVsZS1uYXZcIiwgeyBhdHRyczogeyB0b3BSb3V0ZTogX3ZtLnRvcFJvdXRlLCBwb3M6IF92bS5wb3MgfSB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcIm1vZHVsZS1jb250ZW50XCIgfSwgW1xuICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImluXCIgfSwgW1xuICAgICAgICAgIF9jKFxuICAgICAgICAgICAgXCJmb3JtXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnN1Ym1pdCgkZXZlbnQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBfYyhcInRhYmxlXCIsIHsgc3RhdGljQ2xhc3M6IFwiaW5wdXQtdGJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJ0Ym9keVwiLCBbXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDbGFzcyhfdm0uZXJyb3IubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IFwibmFtZVwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW192bS5fdihcIuWQjeensFwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm0ubmFtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb3JtLXRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJ0ZXh0XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtLm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZm9ybSwgXCJuYW1lXCIsICRldmVudC50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbX3ZtLl92KFwiKlwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IubmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwidHJcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBfdm0uZ2V0Q2xhc3MoX3ZtLmVycm9yLmRldGVjdGlvbl9wb3NfaWQpLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcImRldGVjdGlvbl9wb3NfaWRcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtfdm0uX3YoXCLmo4DmtYvkvY3nva5cIildKSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImktc2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgd2lkdGg6IFwiMzAwcHhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsgXCJvbi1jaGFuZ2VcIjogX3ZtLnNldFByZXZpZXcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybS5kZXRlY3Rpb25fcG9zX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmZvcm0sIFwiZGV0ZWN0aW9uX3Bvc19pZFwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybS5kZXRlY3Rpb25fcG9zX2lkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fbChfdm0ucG9zaXRpb24sIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpLW9wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogdi5pZCwgYXR0cnM6IHsgdmFsdWU6IHYuaWQgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Lmdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB2Lm5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIuOAkOWIhue7hO+8mlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5ncm91cC5uYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLjgJFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdi5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiKlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwidGlwXCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5kZXRlY3Rpb25fcG9zX2lkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcInRyXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENsYXNzKF92bS5lcnJvci5vcHRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcIm9wdGlvblwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW192bS5fdihcIumAiemhuVwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHJlZjogXCJvcHRpb25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX2woX3ZtLm9wdGlvbiwgZnVuY3Rpb24odiwgaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcImRpdlwiLCB7IGtleTogaywgc3RhdGljQ2xhc3M6IFwibGluZVwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdi5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInYua2V5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInRleHRcIiwgcGxhY2Vob2xkZXI6IFwi6ZSu5ZCNXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IHYua2V5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQodiwgXCJrZXlcIiwgJGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg77yaXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidi52YWx1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb3JtLXRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBcIumUruWAvFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiB2LnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQodiwgXCJ2YWx1ZVwiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJydW4tYnV0dG9uIHJ1bi1idXR0b24tb3JhbmdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJidXR0b25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ub3B0aW9uLnNwbGljZShrLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihcIuWIoOmZpFwiKV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgayArIDEgPT0gX3ZtLm9wdGlvbi5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInJ1bi1idXR0b24gcnVuLWJ1dHRvbi1ibHVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiYnV0dG9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9wdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwiKyDmlrDlop5cIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5vcHRpb24ubGVuZ3RoID09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwicnVuLWJ1dHRvbiBydW4tYnV0dG9uLWJsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImJ1dHRvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vcHRpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwiKyDmlrDlop5cIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibmVjZXNzYXJ5XCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCLpgInpobnlv4XpobvlrZjlnKjvvIHlpoLpnZ7lv4XopoHor7fli7/mlLnliqhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5vcHRpb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwidHJcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBfdm0uZ2V0Q2xhc3MoX3ZtLmVycm9yLnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpZDogXCJ2YWx1ZVwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW192bS5fdihcIuaYoOWwhOWAvFwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJmb3JtLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmZvcm0udmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZm9ybSwgXCJ2YWx1ZVwiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibmVjZXNzYXJ5XCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwidGlwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCLpgInpobnpu5jorqTlgLzvvIzor7floavlhpkga2V577yB6buY6K6k77yabm9ybWFsXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJtc2dcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLnZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDbGFzcyhfdm0uZXJyb3IubWFwX3ZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpZDogXCJtYXBfdmFsdWVcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtfdm0uX3YoXCLmmKDlsITlgLxcIildKSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybS5tYXBfdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm0ubWFwX3ZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmZvcm0ubWFwX3ZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5mb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1hcF92YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJ0aXBcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIuWmguaenOacieaYoOWwhOWbvu+8jOWImeivpemAiemhueiDveW+iOWlveeahOWBmuaYoOWwhFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibXNnXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5tYXBfdmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcInRyXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENsYXNzKF92bS5lcnJvci53ZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcIndlaWdodFwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW192bS5fdihcIuadg+mHjVwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtLndlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybS53ZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS10ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybS53ZWlnaHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZm9ybSwgXCJ3ZWlnaHRcIiwgJGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm5lY2Vzc2FyeVwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwi6buY6K6k77yaMO+8jOS7heWFgeiuuOi+k+WFpeaVtOaVsFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibXNnXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci53ZWlnaHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fbSgwKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInByZXZpZXdcIiB9LCBbXG4gICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJpblwiIH0sIFtcbiAgICAgICAgICAgICAgICAgIF92bS5wcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgID8gX2MoXCJpbWdcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNyYzogX3ZtLnByZXZpZXcgfVxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIDogX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJlbXB0eVwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIuaaguaXoOaooeWdl+aYoOWwhOWbvu+8jOivt+WJjeW+gOajgOa1i+aooeWdl+WkhOa3u+WKoO+8iOWPr+mAie+8iVwiKVxuICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICApXG4gICAgICAgIF0pXG4gICAgICBdKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcInYtbG9hZGluZ1wiLCB7IHJlZjogXCJsb2FkaW5nXCIgfSlcbiAgICBdLFxuICAgIDFcbiAgKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtcbiAgZnVuY3Rpb24oKSB7XG4gICAgdmFyIF92bSA9IHRoaXNcbiAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgICByZXR1cm4gX2MoXCJ0clwiLCBbXG4gICAgICBfYyhcInRkXCIsIHsgYXR0cnM6IHsgY29sc3BhbjogXCIyXCIgfSB9LCBbXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwicnVuLWJ1dHRvbiBydW4tYnV0dG9uLXN1Ym1pdFwiLFxuICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJzdWJtaXRcIiB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbX3ZtLl92KFwi5o+Q5LqkXCIpXVxuICAgICAgICApXG4gICAgICBdKVxuICAgIF0pXG4gIH1cbl1cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgbmFtZTogXCJ2LWJyYW5kXCIgLFxyXG4gICAgZGF0YSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZm9ybToge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJycgLFxyXG4gICAgICAgICAgICAgICAgZGV0ZWN0aW9uX3Bvc19pZDogMCAsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDAgLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6ICdub3JtYWwnICxcclxuICAgICAgICAgICAgfSAsXHJcbiAgICAgICAgICAgIGVycm9yOiB7fSAsXHJcbiAgICAgICAgICAgIGFqYXg6IHtcclxuICAgICAgICAgICAgICAgIGdldDogbnVsbCAsXHJcbiAgICAgICAgICAgICAgICBzdWJtaXQ6IG51bGwgLFxyXG4gICAgICAgICAgICB9ICxcclxuICAgICAgICAgICAgZG9tOiB7fSAsXHJcbiAgICAgICAgICAgIGluczoge1xyXG4gICAgICAgICAgICAgICAgbG9hZGluZzogbnVsbCAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBlbmRpbmc6IHtcclxuICAgICAgICAgICAgICAgIHN1Ym1pdDogbnVsbCAsXHJcbiAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICBkYXRhOiB7fSAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB7XHJcbiAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICBhcGk6IGRldGVjdGlvbkl0ZW1BcGkgLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogW10gLFxyXG4gICAgICAgICAgICBvcHRpb246IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6ICdub3JtYWwnICxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ+ato+W4uCdcclxuICAgICAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ2V4Y2VwdGlvbicgLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAn5byC5bi4J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdICxcclxuICAgICAgICAgICAgcHJldmlldzogJycgLFxyXG4gICAgICAgIH07XHJcbiAgICB9ICxcclxuICAgIGNyZWF0ZWQgKCkge1xyXG5cclxuICAgIH0gLFxyXG4gICAgbW91bnRlZCAoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0RG9tKCk7XHJcbiAgICAgICAgdGhpcy5pbml0SW5zdGFuY2UoKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgIH0gLFxyXG4gICAgbWl4aW5zOiBbXHJcbiAgICAgICAgbWl4aW5zLnN0YXRlICxcclxuICAgICAgICBtaXhpbnMubG9hZGluZyAsXHJcbiAgICAgICAgbWl4aW5zLmZvcm0uZ2V0ICxcclxuICAgICAgICBtaXhpbnMuZm9ybS5jb25maXJtICxcclxuICAgIF0gLFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGluaXREb20gKCkge1xyXG5cclxuICAgICAgICB9ICxcclxuXHJcbiAgICAgICAgaW5pdEluc3RhbmNlICgpIHtcclxuXHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIGluaXRpYWxpemUgKCkge1xyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g6I635Y+W5YiG57uEXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNob3coKTtcclxuICAgICAgICAgICAgICAgIGRldGVjdGlvblBvc0FwaS5hbGwoKHJlcyAsIGNvZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lTm90aWNlKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkudGhlbigobmV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREYXRhKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQcmV2aWV3KHRoaXMuZm9ybS5kZXRlY3Rpb25fcG9zX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyYW0ubW9kZSA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uID0gRy5qc29uRGVjb2RlKHRoaXMuZm9ybS5vcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zLmxvYWRpbmcuaGlkZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9ICxcclxuICAgICAgICAvLyDojrflj5bmlbDmja5cclxuICAgICAgICBjaGVjayAoZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiB0cnVlICxcclxuICAgICAgICAgICAgICAgIGZpZWxkOiAnJyAsXHJcbiAgICAgICAgICAgICAgICBtc2c6ICcnICxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9ICxcclxuXHJcbiAgICAgICAgLy8g6I635Y+WIG9wdGlvblxyXG4gICAgICAgIGdldE9wdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybS5vcHRpb24gPSBHLmpzb25FbmNvZGUodGhpcy5vcHRpb24pO1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBzZXRQcmV2aWV3ICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjdXIgPSBudWxsO1xyXG4gICAgICAgICAgICBmb3IgKDsgaSA8IHRoaXMucG9zaXRpb24ubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGN1ciA9IHRoaXMucG9zaXRpb25baV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyLmlkID09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWpheC5tb2R1bGUgaW5zdGFuY2VvZiBHLmFqYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hamF4Lm1vZHVsZS5uYXRpdmUoJ2Fib3J0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWpheC5tb2R1bGUgPSBkZXRlY3Rpb25Nb2R1bGVBcGkuZGV0YWlsKGN1ci5kZXRlY3Rpb25fbW9kdWxlX2lkICwgKHJlcyAsIGNvZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVOb3RpY2UocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aWV3ID0gcmVzLmltYWdlX2V4cGxhaW47XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnByZXZpZXcgPSAnJztcclxuICAgICAgICB9ICxcclxuXHJcbiAgICAgICAgc3VibWl0ICgpIHtcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOS4iuS8oOWfuuacrOaVsOaNrlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZy5zdWJtaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbmZvKCfor7fmsYLkuK0uLi7or7fogJDlv4PnrYnlvoUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlciA9IHRoaXMuY2hlY2soKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmlsdGVyLnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JbZmlsdGVyLmZpZWxkXSA9IGZpbHRlci5tc2c7XHJcbiAgICAgICAgICAgICAgICAgICAgdlNjcm9sbChmaWx0ZXIuZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdldE9wdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLnN1Ym1pdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNob3coKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWpheC5zdWJtaXQgPSB0aGlzLmFwaVt0aGlzLnBhcmFtLm1vZGVdKHRoaXMuZm9ybSAsIChyZXMgLCBjb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZSgnbG9hZGluZycgLCAnc3VibWl0JyAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdlNjcm9sbChHLmZpcnN0S2V5KHJlcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlcnJvcihyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0uaWQgPSByZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNldEFyZ3ModGhpcy5hamF4LnN1Ym1pdCAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm0oJ+ajgOa1i+mhuScgLCAnL2RldGVjdGlvbkl0ZW0vbGlzdCcpO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlKCdsb2FkaW5nJyAsICdzdWJtaXQnICwgJ3N1Ym1pdCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9ICxcclxuICAgIH1cclxufSIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMCEuL3RoaW5nLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTAhLi90aGluZy5qcz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vdGhpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTAxZjUwMzhjJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2pzL3RoaW5nLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9qcy90aGluZy5qcz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi4vcHVibGljL2Nzcy9nbG9iYWwuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcbmltcG9ydCBzdHlsZTEgZnJvbSBcIi4uL3B1YmxpYy9jc3MvcHVibGljLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTAxZjUwMzhjJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiXG5pbXBvcnQgc3R5bGUyIGZyb20gXCIuL2Nzcy90aGluZy5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MiZpZD0wMWY1MDM4YyZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMDFmNTAzOGNcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCJEOlxcXFx3b3JrXFxcXGNvZGVcXFxcY2FyXFxcXHB1YmxpY1xcXFxtb2R1bGVcXFxcYWRtaW5cXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFtb2R1bGUuaG90LmRhdGEpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzAxZjUwMzhjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzAxZjUwMzhjJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi90aGluZy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDFmNTAzOGMmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMDFmNTAzOGMnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNvdXJjZS92dWUvdmlldy9EZXRlY3Rpb25JdGVtL3RoaW5nLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi9nbG9iYWwuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi9nbG9iYWwuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vcHVibGljLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTAxZjUwMzhjJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vcHVibGljLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTAxZjUwMzhjJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL3RoaW5nLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0yJmlkPTAxZjUwMzhjJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vdGhpbmcuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTImaWQ9MDFmNTAzOGMmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIiXSwic291cmNlUm9vdCI6IiJ9