(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{379:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"module-container"},[e("module-nav",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(" "),e("div",{staticClass:"module-content"},[e("div",{staticClass:"in"},[e("form",{on:{submit:function(i){return i.preventDefault(),t.submit(i)}}},[e("table",{staticClass:"input-tb"},[e("tbody",[e("tr",{class:t.getClass(t.error.name),attrs:{id:"name"}},[e("td",[t._v("名称")]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.name},on:{input:function(i){i.target.composing||t.$set(t.form,"name",i.target.value)}}}),t._v(" "),e("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),e("span",{staticClass:"tip"},[t._v(t._s(t.error.name))])])]),t._v(" "),e("tr",{class:t.getClass(t.error.p_id),attrs:{id:"p_id"}},[e("td",[t._v("上级分类")]),t._v(" "),e("td",[e("v-select",{staticClass:"form-select",attrs:{data:t.type},model:{value:t.form.p_id,callback:function(i){t.$set(t.form,"p_id",i)},expression:"form.p_id"}}),t._v(" "),e("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),e("span",{staticClass:"tip"},[t._v(t._s(t.error.p_id))])],1)]),t._v(" "),e("tr",{class:t.getClass(t.error.weight),attrs:{id:"weight"}},[e("td",[t._v("权重")]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.weight,expression:"form.weight"}],staticClass:"form-text",attrs:{type:"number",step:"0"},domProps:{value:t.form.weight},on:{input:function(i){i.target.composing||t.$set(t.form,"weight",i.target.value)}}}),t._v(" "),e("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),e("span",{staticClass:"tip"},[t._v(t._s(t.error.weight))])])]),t._v(" "),e("tr",{attrs:{id:"hidden"}},[e("td",[t._v("是否隐藏")]),t._v(" "),e("td",[e("radio-group",{model:{value:t.form.hidden,callback:function(i){t.$set(t.form,"hidden",i)},expression:"form.hidden"}},t._l(t.$store.state.business.bool_str,function(i,n){return e("radio",{key:n,attrs:{label:n}},[e("span",[t._v(t._s(i))])])}),1),t._v(" "),e("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),e("span",{staticClass:"tip"},[t._v(t._s(t.error.weight))])],1)]),t._v(" "),t._m(0)])])])])]),t._v(" "),e("v-loading",{ref:"loading"})],1)};n._withStripped=!0;var s={name:"v-ss",data:function(){return{form:{weight:0,hidden:"n",p_id:""},error:{},ins:{},dom:{},ajax:{submit:null},pending:{submit:!1},api:articleTypeApi,callback:{},type:[]}},mixins:[mixins.loading,mixins.state,mixins.form.get,mixins.form.confirm],mounted:function(){this.initDom(),this.initInstance(),this.initialize()},methods:{initDom:function(){},initInstance:function(){},initialize:function(){var t=this;new Promise(function(i){t.pendingState("loading"),articleTypeApi.list({},function(e,n){i(),200==n?t.type=e:t.eNotice(e)})}).then(function(){return new Promise(function(i){t.getData(function(){i()})})}).finally(function(){t.initialState("loading")})},check:function(t){return{status:!0,field:"",msg:""}},submit:function(){var t=this;new Promise(function(i){if(t.pending.submit)t.$info("请求中...请耐心等待");else{t.pendingState("loading","submit");t.ajax.submit=t.api[t.param.mode](t.form,function(e,n){if(200!=n)return t.initialState("loading","submit","submit"),400==n?(t.error=e,void vScroll(G.firstKey(e))):void t.$error(e);t.form.id=e,i()}),t.ins.loading.setArgs(t.ajax.submit,"submit")}}).then(function(){t.confirm("分类列表","/articleType/list")}).finally(function(){t.initialState("loading","submit","submit")})}}},a=(e(637),e(638),e(14)),r=Object(a.a)(s,n,[function(){var t=this.$createElement,i=this._self._c||t;return i("tr",[i("td",{attrs:{colspan:"2"}},[i("button",{staticClass:"run-button run-button-submit",attrs:{type:"submit"}},[this._v("提交")])])])}],!1,null,"5dc70f04",null);r.options.__file="source/vue/view/articleType/thing.vue";i.default=r.exports},495:function(t,i,e){},496:function(t,i,e){},637:function(t,i,e){"use strict";var n=e(495);e.n(n).a},638:function(t,i,e){"use strict";var n=e(496);e.n(n).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvYXJ0aWNsZVR5cGUvdGhpbmcudnVlP2RhM2UiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3Z1ZS92aWV3L2FydGljbGVUeXBlL2pzL3RoaW5nLmpzIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9hcnRpY2xlVHlwZS9qcy90aGluZy5qcz9mZTJiIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9hcnRpY2xlVHlwZS90aGluZy52dWUiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3Z1ZS92aWV3L3B1YmxpYy9jc3MvcHVibGljLmNzcz81ZDI4Iiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9hcnRpY2xlVHlwZS9jc3MvdGhpbmcuY3NzIl0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiYXR0cnMiLCJ0b3BSb3V0ZSIsInBvcyIsIl92Iiwib24iLCJzdWJtaXQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzIiwiZ2V0Q2xhc3MiLCJlcnJvciIsIm5hbWUiLCJpZCIsImRpcmVjdGl2ZXMiLCJyYXdOYW1lIiwidmFsdWUiLCJmb3JtIiwiZXhwcmVzc2lvbiIsInR5cGUiLCJkb21Qcm9wcyIsImlucHV0IiwidGFyZ2V0IiwiY29tcG9zaW5nIiwiJHNldCIsIl9zIiwicF9pZCIsImRhdGEiLCJtb2RlbCIsImNhbGxiYWNrIiwiJCR2Iiwid2VpZ2h0Iiwic3RlcCIsImhpZGRlbiIsIl9sIiwiJHN0b3JlIiwic3RhdGUiLCJidXNpbmVzcyIsImJvb2xfc3RyIiwidiIsImsiLCJrZXkiLCJsYWJlbCIsIl9tIiwicmVmIiwiX3dpdGhTdHJpcHBlZCIsImpzX3RoaW5ndnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfIiwiaW5zIiwiZG9tIiwiYWpheCIsInBlbmRpbmciLCJhcGkiLCJhcnRpY2xlVHlwZUFwaSIsIm1peGlucyIsImxvYWRpbmciLCJnZXQiLCJjb25maXJtIiwibW91bnRlZCIsImluaXREb20iLCJpbml0SW5zdGFuY2UiLCJpbml0aWFsaXplIiwibWV0aG9kcyIsIl90aGlzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJwZW5kaW5nU3RhdGUiLCJsaXN0IiwicmVzIiwiY29kZSIsImVOb3RpY2UiLCJ0aGVuIiwiZ2V0RGF0YSIsImZpbmFsbHkiLCJpbml0aWFsU3RhdGUiLCJjaGVjayIsInN0YXR1cyIsImZpZWxkIiwibXNnIiwiX3RoaXMyIiwiJGluZm8iLCJwYXJhbSIsIm1vZGUiLCJ2U2Nyb2xsIiwiRyIsImZpcnN0S2V5IiwiJGVycm9yIiwic2V0QXJncyIsImNvbXBvbmVudCIsIk9iamVjdCIsImNvbXBvbmVudE5vcm1hbGl6ZXIiLCJjb2xzcGFuIiwib3B0aW9ucyIsIl9fZmlsZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJfbm9kZV9tb2R1bGVzX21pbmlfY3NzX2V4dHJhY3RfcGx1Z2luX2Rpc3RfbG9hZGVyX2pzX25vZGVfbW9kdWxlc19jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX3B1YmxpY19jc3NfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMF9pZF81ZGM3MGYwNF9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJuIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc190aGluZ19jc3NfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMV9pZF81ZGM3MGYwNF9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyJdLCJtYXBwaW5ncyI6ImtHQUFBLElBQUFBLEVBQUEsV0FDQSxJQUFBQyxFQUFBQyxLQUNBQyxFQUFBRixFQUFBRyxlQUNBQyxFQUFBSixFQUFBSyxNQUFBRCxJQUFBRixFQUNBLE9BQUFFLEVBQ0EsTUFDQSxDQUFLRSxZQUFBLG9CQUNMLENBQ0FGLEVBQUEsY0FBd0JHLE1BQUEsQ0FBU0MsU0FBQVIsRUFBQVEsU0FBQUMsSUFBQVQsRUFBQVMsT0FDakNULEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxPQUFpQkUsWUFBQSxrQkFBZ0MsQ0FDakRGLEVBQUEsT0FBbUJFLFlBQUEsTUFBb0IsQ0FDdkNGLEVBQ0EsT0FDQSxDQUNBTyxHQUFBLENBQ0FDLE9BQUEsU0FBQUMsR0FFQSxPQURBQSxFQUFBQyxpQkFDQWQsRUFBQVksT0FBQUMsTUFJQSxDQUNBVCxFQUFBLFNBQTJCRSxZQUFBLFlBQTBCLENBQ3JERixFQUFBLFNBQ0FBLEVBQ0EsS0FDQSxDQUNBVyxNQUFBZixFQUFBZ0IsU0FBQWhCLEVBQUFpQixNQUFBQyxNQUNBWCxNQUFBLENBQThCWSxHQUFBLFNBRTlCLENBQ0FmLEVBQUEsTUFBQUosRUFBQVUsR0FBQSxRQUNBVixFQUFBVSxHQUFBLEtBQ0FOLEVBQUEsTUFDQUEsRUFBQSxTQUNBZ0IsV0FBQSxDQUNBLENBQ0FGLEtBQUEsUUFDQUcsUUFBQSxVQUNBQyxNQUFBdEIsRUFBQXVCLEtBQUFMLEtBQ0FNLFdBQUEsY0FHQWxCLFlBQUEsWUFDQUMsTUFBQSxDQUFrQ2tCLEtBQUEsUUFDbENDLFNBQUEsQ0FBcUNKLE1BQUF0QixFQUFBdUIsS0FBQUwsTUFDckNQLEdBQUEsQ0FDQWdCLE1BQUEsU0FBQWQsR0FDQUEsRUFBQWUsT0FBQUMsV0FHQTdCLEVBQUE4QixLQUFBOUIsRUFBQXVCLEtBQUEsT0FBQVYsRUFBQWUsT0FBQU4sV0FJQXRCLEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxRQUFvQ0UsWUFBQSxhQUEyQixDQUFBTixFQUFBVSxHQUFBLE9BQy9EVixFQUFBVSxHQUFBLEtBQ0FOLEVBQUEsUUFBb0NFLFlBQUEsT0FBcUIsQ0FDekROLEVBQUFVLEdBQUFWLEVBQUErQixHQUFBL0IsRUFBQWlCLE1BQUFDLGFBS0FsQixFQUFBVSxHQUFBLEtBQ0FOLEVBQ0EsS0FDQSxDQUNBVyxNQUFBZixFQUFBZ0IsU0FBQWhCLEVBQUFpQixNQUFBZSxNQUNBekIsTUFBQSxDQUE4QlksR0FBQSxTQUU5QixDQUNBZixFQUFBLE1BQUFKLEVBQUFVLEdBQUEsVUFDQVYsRUFBQVUsR0FBQSxLQUNBTixFQUNBLEtBQ0EsQ0FDQUEsRUFBQSxZQUNBRSxZQUFBLGNBQ0FDLE1BQUEsQ0FBb0MwQixLQUFBakMsRUFBQXlCLE1BQ3BDUyxNQUFBLENBQ0FaLE1BQUF0QixFQUFBdUIsS0FBQVMsS0FDQUcsU0FBQSxTQUFBQyxHQUNBcEMsRUFBQThCLEtBQUE5QixFQUFBdUIsS0FBQSxPQUFBYSxJQUVBWixXQUFBLGVBR0F4QixFQUFBVSxHQUFBLEtBQ0FOLEVBQUEsUUFBc0NFLFlBQUEsYUFBMkIsQ0FDakVOLEVBQUFVLEdBQUEsT0FFQVYsRUFBQVUsR0FBQSxLQUNBTixFQUFBLFFBQXNDRSxZQUFBLE9BQXFCLENBQzNETixFQUFBVSxHQUFBVixFQUFBK0IsR0FBQS9CLEVBQUFpQixNQUFBZSxVQUdBLEtBSUFoQyxFQUFBVSxHQUFBLEtBQ0FOLEVBQ0EsS0FDQSxDQUNBVyxNQUFBZixFQUFBZ0IsU0FBQWhCLEVBQUFpQixNQUFBb0IsUUFDQTlCLE1BQUEsQ0FBOEJZLEdBQUEsV0FFOUIsQ0FDQWYsRUFBQSxNQUFBSixFQUFBVSxHQUFBLFFBQ0FWLEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxNQUNBQSxFQUFBLFNBQ0FnQixXQUFBLENBQ0EsQ0FDQUYsS0FBQSxRQUNBRyxRQUFBLFVBQ0FDLE1BQUF0QixFQUFBdUIsS0FBQWMsT0FDQWIsV0FBQSxnQkFHQWxCLFlBQUEsWUFDQUMsTUFBQSxDQUFrQ2tCLEtBQUEsU0FBQWEsS0FBQSxLQUNsQ1osU0FBQSxDQUFxQ0osTUFBQXRCLEVBQUF1QixLQUFBYyxRQUNyQzFCLEdBQUEsQ0FDQWdCLE1BQUEsU0FBQWQsR0FDQUEsRUFBQWUsT0FBQUMsV0FHQTdCLEVBQUE4QixLQUFBOUIsRUFBQXVCLEtBQUEsU0FBQVYsRUFBQWUsT0FBQU4sV0FJQXRCLEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxRQUFvQ0UsWUFBQSxhQUEyQixDQUFBTixFQUFBVSxHQUFBLE9BQy9EVixFQUFBVSxHQUFBLEtBQ0FOLEVBQUEsUUFBb0NFLFlBQUEsT0FBcUIsQ0FDekROLEVBQUFVLEdBQUFWLEVBQUErQixHQUFBL0IsRUFBQWlCLE1BQUFvQixlQUtBckMsRUFBQVUsR0FBQSxLQUNBTixFQUFBLE1BQTRCRyxNQUFBLENBQVNZLEdBQUEsV0FBaUIsQ0FDdERmLEVBQUEsTUFBQUosRUFBQVUsR0FBQSxVQUNBVixFQUFBVSxHQUFBLEtBQ0FOLEVBQ0EsS0FDQSxDQUNBQSxFQUNBLGNBQ0EsQ0FDQThCLE1BQUEsQ0FDQVosTUFBQXRCLEVBQUF1QixLQUFBZ0IsT0FDQUosU0FBQSxTQUFBQyxHQUNBcEMsRUFBQThCLEtBQUE5QixFQUFBdUIsS0FBQSxTQUFBYSxJQUVBWixXQUFBLGdCQUdBeEIsRUFBQXdDLEdBQUF4QyxFQUFBeUMsT0FBQUMsTUFBQUMsU0FBQUMsU0FBQSxTQUNBQyxFQUNBQyxHQUVBLE9BQUExQyxFQUNBLFFBQ0EsQ0FBK0IyQyxJQUFBRCxFQUFBdkMsTUFBQSxDQUFpQnlDLE1BQUFGLElBQ2hELENBQUExQyxFQUFBLFFBQUFKLEVBQUFVLEdBQUFWLEVBQUErQixHQUFBYyxVQUdBLEdBRUE3QyxFQUFBVSxHQUFBLEtBQ0FOLEVBQUEsUUFBb0NFLFlBQUEsYUFBMkIsQ0FBQU4sRUFBQVUsR0FBQSxPQUMvRFYsRUFBQVUsR0FBQSxLQUNBTixFQUFBLFFBQW9DRSxZQUFBLE9BQXFCLENBQ3pETixFQUFBVSxHQUFBVixFQUFBK0IsR0FBQS9CLEVBQUFpQixNQUFBb0IsWUFHQSxLQUdBckMsRUFBQVUsR0FBQSxLQUNBVixFQUFBaUQsR0FBQSxhQU9BakQsRUFBQVUsR0FBQSxLQUNBTixFQUFBLGFBQXVCOEMsSUFBQSxhQUV2QixJQXNCQW5ELEVBQUFvRCxlQUFBLEVDeE5lLElDQXVIQyxFREF2SCxDQUNYbEMsS0FBTSxPQUNOZSxLQUZXLFdBR1AsTUFBTyxDQUNIVixLQUFNLENBQ0ZjLE9BQVEsRUFDUkUsT0FBUSxJQUNSUCxLQUFNLElBR1ZmLE1BQU8sR0FDUG9DLElBQUssR0FDTEMsSUFBSyxHQUNMQyxLQUFNLENBQ0YzQyxPQUFRLE1BRVo0QyxRQUFTLENBQ0w1QyxRQUFRLEdBRVo2QyxJQUFLQyxlQUNMdkIsU0FBVSxHQUNWVixLQUFNLEtBR2RrQyxPQUFRLENBRUpBLE9BQU9DLFFBQ1BELE9BQU9qQixNQUNQaUIsT0FBT3BDLEtBQUtzQyxJQUNaRixPQUFPcEMsS0FBS3VDLFNBR2hCQyxRQWhDVyxXQWlDUDlELEtBQUsrRCxVQUNML0QsS0FBS2dFLGVBQ0xoRSxLQUFLaUUsY0FFVEMsUUFBUyxDQUNMSCxRQURLLGFBS0xDLGFBTEssYUFTTEMsV0FUSyxXQVNTLElBQUFFLEVBQUFuRSxLQUNWLElBQUlvRSxRQUFRLFNBQUNDLEdBQ1RGLEVBQUtHLGFBQWEsV0FDbEJiLGVBQWVjLEtBQUssR0FBSyxTQUFDQyxFQUFNQyxHQUM1QkosSUFDWSxLQUFSSSxFQUlKTixFQUFLM0MsS0FBT2dELEVBSFJMLEVBQUtPLFFBQVFGLE9BS3RCRyxLQUFLLFdBQ0osT0FBTyxJQUFJUCxRQUFRLFNBQUNDLEdBQ2hCRixFQUFLUyxRQUFRLFdBQ1RQLFVBR1RRLFFBQVEsV0FDUFYsRUFBS1csYUFBYSxjQUkxQkMsTUEvQkssU0ErQkUvQyxHQUNILE1BQU8sQ0FDSGdELFFBQVEsRUFDUkMsTUFBTyxHQUNQQyxJQUFLLEtBSWJ2RSxPQXZDSyxXQXVDSyxJQUFBd0UsRUFBQW5GLEtBQ04sSUFBSW9FLFFBQVEsU0FBQ0MsR0FFVCxHQUFJYyxFQUFLNUIsUUFBUTVDLE9BQ2J3RSxFQUFLQyxNQUFNLG1CQURmLENBSUFELEVBQUtiLGFBQWEsVUFBWSxVQUU5QmEsRUFBSzdCLEtBQUszQyxPQUFTd0UsRUFBSzNCLElBQUkyQixFQUFLRSxNQUFNQyxNQUFNSCxFQUFLN0QsS0FBTyxTQUFDa0QsRUFBTUMsR0FDNUQsR0FBWSxLQUFSQSxFQUVBLE9BREFVLEVBQUtMLGFBQWEsVUFBWSxTQUFXLFVBQzdCLEtBQVJMLEdBQ0FVLEVBQUtuRSxNQUFRd0QsT0FDYmUsUUFBUUMsRUFBRUMsU0FBU2pCLFVBSXZCVyxFQUFLTyxPQUFPbEIsR0FHaEJXLEVBQUs3RCxLQUFLSixHQUFLc0QsRUFDZkgsTUFFSmMsRUFBSy9CLElBQUlPLFFBQVFnQyxRQUFRUixFQUFLN0IsS0FBSzNDLE9BQVMsYUFDN0NnRSxLQUFLLFdBQ0pRLEVBQUt0QixRQUFRLE9BQVMsdUJBQ3ZCZ0IsUUFBUSxXQUNQTSxFQUFLTCxhQUFhLFVBQVksU0FBVyx1Q0UvRnpEYyxFQUFnQkMsT0FBQUMsRUFBQSxFQUFBRCxDQUNkMUMsRUFDQXJELEVIMExGLENBQ0EsV0FDQSxJQUNBRyxFQURBRCxLQUNBRSxlQUNBQyxFQUZBSCxLQUVBSSxNQUFBRCxJQUFBRixFQUNBLE9BQUFFLEVBQUEsTUFDQUEsRUFBQSxNQUFnQkcsTUFBQSxDQUFTeUYsUUFBQSxNQUFpQixDQUMxQzVGLEVBQ0EsU0FDQSxDQUNBRSxZQUFBLCtCQUNBQyxNQUFBLENBQW9Ca0IsS0FBQSxXQUVwQixDQVhBeEIsS0FXQVMsR0FBQSxlR3JNQSxFQUNBLEtBQ0EsV0FDQSxNQXVCQW1GLEVBQUFJLFFBQUFDLE9BQUEsd0NBQ2VDLEVBQUEsUUFBQU4sd0ZDeENmLElBQUFPLEVBQUFDLEVBQUEsS0FBQUEsRUFBQUMsRUFBQUYsR0FBbVQsb0NDQW5ULElBQUFHLEVBQUFGLEVBQUEsS0FBQUEsRUFBQUMsRUFBQUMsR0FBa1QiLCJmaWxlIjoianMvNDkuanM/dmVyc2lvbj0xLjAuMSIsInNvdXJjZXNDb250ZW50IjpbInZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIF92bSA9IHRoaXNcbiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7IHN0YXRpY0NsYXNzOiBcIm1vZHVsZS1jb250YWluZXJcIiB9LFxuICAgIFtcbiAgICAgIF9jKFwibW9kdWxlLW5hdlwiLCB7IGF0dHJzOiB7IHRvcFJvdXRlOiBfdm0udG9wUm91dGUsIHBvczogX3ZtLnBvcyB9IH0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwibW9kdWxlLWNvbnRlbnRcIiB9LCBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaW5cIiB9LCBbXG4gICAgICAgICAgX2MoXG4gICAgICAgICAgICBcImZvcm1cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc3VibWl0KCRldmVudClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgIF9jKFwidGFibGVcIiwgeyBzdGF0aWNDbGFzczogXCJpbnB1dC10YlwiIH0sIFtcbiAgICAgICAgICAgICAgICBfYyhcInRib2R5XCIsIFtcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcInRyXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENsYXNzKF92bS5lcnJvci5uYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpZDogXCJuYW1lXCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi5ZCN56ewXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybS5uYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmZvcm0ubmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtLCBcIm5hbWVcIiwgJGV2ZW50LnRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm5lY2Vzc2FyeVwiIH0sIFtfdm0uX3YoXCIqXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwidGlwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5uYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDbGFzcyhfdm0uZXJyb3IucF9pZCksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IFwicF9pZFwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW192bS5fdihcIuS4iue6p+WIhuexu1wiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwidi1zZWxlY3RcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tc2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgZGF0YTogX3ZtLnR5cGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtLnBfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oJCR2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtLCBcInBfaWRcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybS5wX2lkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiKlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwidGlwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLnBfaWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwidHJcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBfdm0uZ2V0Q2xhc3MoX3ZtLmVycm9yLndlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IFwid2VpZ2h0XCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi5p2D6YeNXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm0ud2VpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJmb3JtLndlaWdodFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb3JtLXRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJudW1iZXJcIiwgc3RlcDogXCIwXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtLndlaWdodCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtLCBcIndlaWdodFwiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibmVjZXNzYXJ5XCIgfSwgW192bS5fdihcIipcIildKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJ0aXBcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLndlaWdodCkpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXCJ0clwiLCB7IGF0dHJzOiB7IGlkOiBcImhpZGRlblwiIH0gfSwgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtfdm0uX3YoXCLmmK/lkKbpmpDol49cIildKSxcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ0ZFwiLFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInJhZGlvLWdyb3VwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtLmhpZGRlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmZvcm0sIFwiaGlkZGVuXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm0uaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fbChfdm0uJHN0b3JlLnN0YXRlLmJ1c2luZXNzLmJvb2xfc3RyLCBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyYWRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IGssIGF0dHJzOiB7IGxhYmVsOiBrIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfYyhcInNwYW5cIiwgW192bS5fdihfdm0uX3ModikpXSldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbX3ZtLl92KFwiKlwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3Iud2VpZ2h0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fbSgwKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgKVxuICAgICAgICBdKVxuICAgICAgXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJ2LWxvYWRpbmdcIiwgeyByZWY6IFwibG9hZGluZ1wiIH0pXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXG4gIGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdm0gPSB0aGlzXG4gICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gICAgcmV0dXJuIF9jKFwidHJcIiwgW1xuICAgICAgX2MoXCJ0ZFwiLCB7IGF0dHJzOiB7IGNvbHNwYW46IFwiMlwiIH0gfSwgW1xuICAgICAgICBfYyhcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInJ1bi1idXR0b24gcnVuLWJ1dHRvbi1zdWJtaXRcIixcbiAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwic3VibWl0XCIgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgW192bS5fdihcIuaPkOS6pFwiKV1cbiAgICAgICAgKVxuICAgICAgXSlcbiAgICBdKVxuICB9XG5dXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIG5hbWU6IFwidi1zc1wiICxcclxuICAgIGRhdGEgKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGZvcm06IHtcclxuICAgICAgICAgICAgICAgIHdlaWdodDogMCAsXHJcbiAgICAgICAgICAgICAgICBoaWRkZW46ICduJyAsXHJcbiAgICAgICAgICAgICAgICBwX2lkOiAnJyAsXHJcbiAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICAvLyDplJnor6/mtojmga9cclxuICAgICAgICAgICAgZXJyb3I6IHt9ICxcclxuICAgICAgICAgICAgaW5zOiB7fSAsXHJcbiAgICAgICAgICAgIGRvbToge30gLFxyXG4gICAgICAgICAgICBhamF4OiB7XHJcbiAgICAgICAgICAgICAgICBzdWJtaXQ6IG51bGwgLFxyXG4gICAgICAgICAgICB9ICxcclxuICAgICAgICAgICAgcGVuZGluZzoge1xyXG4gICAgICAgICAgICAgICAgc3VibWl0OiBmYWxzZSAsXHJcbiAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICBhcGk6IGFydGljbGVUeXBlQXBpICxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHt9ICxcclxuICAgICAgICAgICAgdHlwZTogW10gLFxyXG4gICAgICAgIH07XHJcbiAgICB9ICxcclxuICAgIG1peGluczogW1xyXG4gICAgICAgIC8vIOWKoOi9vVxyXG4gICAgICAgIG1peGlucy5sb2FkaW5nICxcclxuICAgICAgICBtaXhpbnMuc3RhdGUgLFxyXG4gICAgICAgIG1peGlucy5mb3JtLmdldCAsXHJcbiAgICAgICAgbWl4aW5zLmZvcm0uY29uZmlybSAsXHJcblxyXG4gICAgXSAsXHJcbiAgICBtb3VudGVkICgpIHtcclxuICAgICAgICB0aGlzLmluaXREb20oKTtcclxuICAgICAgICB0aGlzLmluaXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfSAsXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgaW5pdERvbSAoKSB7XHJcblxyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBpbml0SW5zdGFuY2UgKCkge1xyXG5cclxuICAgICAgICB9ICxcclxuXHJcbiAgICAgICAgaW5pdGlhbGl6ZSAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0ZSgnbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgYXJ0aWNsZVR5cGVBcGkubGlzdCh7fSAsIChyZXMgLCBjb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVOb3RpY2UocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREYXRhKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIGNoZWNrIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUgLFxyXG4gICAgICAgICAgICAgICAgZmllbGQ6ICcnICxcclxuICAgICAgICAgICAgICAgIG1zZzogJycgLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBzdWJtaXQgKCkge1xyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g5LiK5Lyg5Z+65pys5pWw5o2uXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nLnN1Ym1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGluZm8oJ+ivt+axguS4rS4uLuivt+iAkOW/g+etieW+hScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0ZSgnbG9hZGluZycgLCAnc3VibWl0Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFqYXguc3VibWl0ID0gdGhpcy5hcGlbdGhpcy5wYXJhbS5tb2RlXSh0aGlzLmZvcm0gLCAocmVzICwgY29kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZSgnbG9hZGluZycgLCAnc3VibWl0JyAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdlNjcm9sbChHLmZpcnN0S2V5KHJlcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDnibnmrorplJnor69cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZXJyb3IocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLmlkID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnMubG9hZGluZy5zZXRBcmdzKHRoaXMuYWpheC5zdWJtaXQgLCAnc3VibWl0Jyk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtKCfliIbnsbvliJfooagnICwgJy9hcnRpY2xlVHlwZS9saXN0Jyk7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUoJ2xvYWRpbmcnICwgJ3N1Ym1pdCcgLCAnc3VibWl0Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gLFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0wIS4vdGhpbmcuanM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMCEuL3RoaW5nLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi90aGluZy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWRjNzBmMDQmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vanMvdGhpbmcuanM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2pzL3RoaW5nLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuLi9wdWJsaWMvY3NzL3B1YmxpYy5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01ZGM3MGYwNCZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIlxuaW1wb3J0IHN0eWxlMSBmcm9tIFwiLi9jc3MvdGhpbmcuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTEmaWQ9NWRjNzBmMDQmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjVkYzcwZjA0XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiRDpcXFxcd29ya1xcXFxjb2RlXFxcXGNhclxcXFxwdWJsaWNcXFxcbW9kdWxlXFxcXGFkbWluXFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghbW9kdWxlLmhvdC5kYXRhKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc1ZGM3MGYwNCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc1ZGM3MGYwNCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vdGhpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTVkYzcwZjA0JnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzVkYzcwZjA0Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzb3VyY2UvdnVlL3ZpZXcvYXJ0aWNsZVR5cGUvdGhpbmcudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL3B1YmxpYy5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01ZGM3MGYwNCZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL3B1YmxpYy5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD01ZGM3MGYwNCZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi90aGluZy5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MSZpZD01ZGM3MGYwNCZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL3RoaW5nLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTVkYzcwZjA0JnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiIl0sInNvdXJjZVJvb3QiOiIifQ==