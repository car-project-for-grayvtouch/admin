(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{350:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"module-container"},[i("module-nav",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(" "),i("div",{staticClass:"module-content"},[i("div",{staticClass:"in"},[i("form",{on:{submit:function(s){return s.preventDefault(),t.submit(s)}}},[i("table",{staticClass:"input-tb"},[i("tbody",["add"==t.param.mode?i("tr",{class:t.getClass(t.error.username),attrs:{id:"username"}},[i("td",[t._v("用户名")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.username},on:{input:function(s){s.target.composing||t.$set(t.form,"username",s.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"}),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.username))])])]):t._e(),t._v(" "),i("tr",{class:t.getClass(t.error.password),attrs:{id:"password"}},[i("td",[t._v("密码")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.password},on:{input:function(s){s.target.composing||t.$set(t.form,"password",s.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"},["add"==t.param.mode?[t._v("*")]:t._e()],2),t._v(" "),i("span",{staticClass:"tip"},[t._v("密码长度至少6位")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.password))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.avatar),attrs:{id:"avatar"}},[i("td",[t._v("头像")]),t._v(" "),i("td",{ref:"image-container"},[i("div",{staticClass:"upload-image"},[t._m(0),t._v(" "),i("div",{staticClass:"init-show-image-list"},["edit"==t.param.mode&&t.form.avatar_explain?i("img",{staticClass:"init-show-image",attrs:{src:t.form.avatar_explain}}):t._e()]),t._v(" "),i("div",{staticClass:"preview-images hide"}),t._v(" "),t._m(1)]),t._v(" "),i("span",{staticClass:"tip"}),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.avatar))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.phone),attrs:{id:"phone"}},[i("td",[t._v("手机号码")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-text",attrs:{type:"number",step:"0"},domProps:{value:t.form.phone},on:{input:function(s){s.target.composing||t.$set(t.form,"phone",s.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"}),t._v(" "),i("span",{staticClass:"tip"},[t._v("请输入数字")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.phone))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.role_id),attrs:{id:"role_id"}},[i("td",[t._v("用户角色")]),t._v(" "),i("td",[i("i-select",{staticStyle:{width:"300px"},model:{value:t.form.role_id,callback:function(s){t.$set(t.form,"role_id",s)},expression:"form.role_id"}},t._l(t.role,function(s){return i("i-option",{key:s.id,attrs:{value:s.id}},[t._v(t._s(s.name))])}),1),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"}),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.role_id))])],1)]),t._v(" "),t._m(2)])])])])]),t._v(" "),i("v-loading",{ref:"loading"})],1)};a._withStripped=!0;var e={name:"v-route",data:function(){return{form:{},error:{},ajax:{get:null,submit:null},dom:{},ins:{loading:null,small:null,big:null},pending:{submit:null},data:{},callback:{image:null},api:adminApi,role:[]}},created:function(){},mounted:function(){this.initDom(),this.initInstance(),this.initialize()},mixins:[mixins.loading],methods:{initDom:function(){this.dom.imageContainer=G(this.$refs["image-container"])},initInstance:function(){var t=this;this.ins.image=new UploadImage(this.dom.imageContainer.get(0),{pluginUrl:topContext.plugin+"UploadImage/",mode:"override",url:topContext.imageApi,field:"image",success:function(s,i){G.isFunction(t.callback.image)&&t.callback.image({res:s,code:i})}})},initialize:function(){var t=this;new Promise(function(s){t.ins.loading.show(),t.ajax.all=roleApi.all(function(i,a){s(),200==a?t.role=i:t.$error(i)}),t.ins.loading.setArgs(t.ajax.all)}).then(function(){if("edit"==t.param.mode)return new Promise(function(s){t.ajax.getData=t.api.detail(t.param.id,function(i,a){s(),200==a?t.form=i:t.$error(i)}),t.ins.loading.setArgs(t.ajax.getData)})}).finally(function(){t.ins.loading.hide()})},check:function(t){return{status:!0,field:"",msg:""}},submit:function(){var t=this;if(this.pending.submit)layer.alert("请求中...请耐心等待");else{var s=this.check();if(!s.status)return this.error[s.field]=s.msg,void vScroll(s.field);this.pending.submit=!0,this.ins.loading.show();var i=this;new Promise(function(s){t.ajax.submit=t.api[t.param.mode](t.form,function(i,a){if(t.error={},200!=a)return t.pending.submit=!1,t.ins.loading.hide(),400==a?(t.error=i,void vScroll(G.firstKey(i))):void t.$error(i);t.form.id=i,s()}),t.ins.loading.setArgs(t.ajax.submit,"submit")}).then(function(){return new Promise(function(s){t.ins.image.empty()?s():(t.callback.image=s,t.ins.image.upload())})}).then(function(s){return new Promise(function(i){if(G.isUndefined(s))i();else{if(200!=s.code)return i(),void t.eNotice(s.res);s=s.res,t.api.image({id:t.form.id,image:s.url},function(s,a){i(),200==a||t.eNotice(s)})}})}).then(function(){t.$success("操作成功",{btn:["继续"+("edit"==t.param.mode?"编辑":"添加"),"用户列表"],btn1:function(t){layer.close(t)},btn2:function(){i.location("/admin/list",null,"_self")}})}).finally(function(){t.pending.submit=!1,t.ins.loading.hide()})}}}},n=(i(393),i(563),i(564),i(14)),r=Object(n.a)(e,a,[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"select-images"},[s("div",{staticClass:"upload-show"},[s("div",{staticClass:"image-line"},[s("img",{staticClass:"image upload-image-btn",attrs:{src:""}}),s("span",{staticClass:"selected-count hide"},[this._v("10")])]),this._v(" "),s("div",{staticClass:"text-line"},[this._v("请选择要上传的图片")]),this._v(" "),s("div",{staticClass:"clear-selected",attrs:{title:"清空已选择的图片"}},[s("img",{staticClass:"image",attrs:{src:""}})]),this._v(" "),s("input",{staticClass:"upload-images-input",attrs:{type:"file",name:"upload_images",multiple:"multiple"}})]),this._v(" "),s("div",{staticClass:"tip"},[this._v("这边是提示内容")])])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"upload-image-list hide"},[i("div",{staticClass:"upload-title"},[t._v("待上传列表")]),t._v(" "),i("div",{staticClass:"image-list"},[i("div",{staticClass:"list-content list-title"},[i("div",{staticClass:"item div-preview"},[t._v("图片预览")]),t._v(" "),i("div",{staticClass:"item div-type"},[t._v("类型")]),t._v(" "),i("div",{staticClass:"item div-size"},[t._v("大小")]),t._v(" "),i("div",{staticClass:"item div-speed"},[t._v("速度")]),t._v(" "),i("div",{staticClass:"item div-status"},[t._v("状态")]),t._v(" "),i("div",{staticClass:"item div-opr"},[t._v("操作")])]),t._v(" "),i("div",{staticClass:"list-content list-body"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("tr",[s("td",{attrs:{colspan:"2"}},[s("button",{staticClass:"run-button run-button-submit",attrs:{type:"submit"}},[this._v("提交")])])])}],!1,null,"7fb7dc74",null);r.options.__file="source/vue/view/admin/user.vue";s.default=r.exports},392:function(t,s,i){},393:function(t,s,i){"use strict";var a=i(392);i.n(a).a},417:function(t,s,i){},418:function(t,s,i){},563:function(t,s,i){"use strict";var a=i(417);i.n(a).a},564:function(t,s,i){"use strict";var a=i(418);i.n(a).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvYWRtaW4vdXNlci52dWU/MDk4ZSIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvYWRtaW4vanMvdXNlci5qcyIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvYWRtaW4vanMvdXNlci5qcz9kNjE5Iiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9hZG1pbi91c2VyLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvcHVibGljL2Nzcy9nbG9iYWwuY3NzIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9wdWJsaWMvY3NzL3B1YmxpYy5jc3M/ZDJmNiIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvYWRtaW4vY3NzL3VzZXIuY3NzIl0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiYXR0cnMiLCJ0b3BSb3V0ZSIsInBvcyIsIl92Iiwib24iLCJzdWJtaXQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmFtIiwibW9kZSIsImNsYXNzIiwiZ2V0Q2xhc3MiLCJlcnJvciIsInVzZXJuYW1lIiwiaWQiLCJkaXJlY3RpdmVzIiwibmFtZSIsInJhd05hbWUiLCJ2YWx1ZSIsImZvcm0iLCJleHByZXNzaW9uIiwidHlwZSIsImRvbVByb3BzIiwiaW5wdXQiLCJ0YXJnZXQiLCJjb21wb3NpbmciLCIkc2V0IiwiX3MiLCJfZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwicmVmIiwiX20iLCJhdmF0YXJfZXhwbGFpbiIsInNyYyIsInBob25lIiwic3RlcCIsInJvbGVfaWQiLCJzdGF0aWNTdHlsZSIsIndpZHRoIiwibW9kZWwiLCJjYWxsYmFjayIsIiQkdiIsIl9sIiwicm9sZSIsInYiLCJrZXkiLCJfd2l0aFN0cmlwcGVkIiwianNfdXNlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyIsImRhdGEiLCJhamF4IiwiZ2V0IiwiZG9tIiwiaW5zIiwibG9hZGluZyIsInNtYWxsIiwiYmlnIiwicGVuZGluZyIsImltYWdlIiwiYXBpIiwiYWRtaW5BcGkiLCJjcmVhdGVkIiwibW91bnRlZCIsImluaXREb20iLCJpbml0SW5zdGFuY2UiLCJpbml0aWFsaXplIiwibWl4aW5zIiwibWV0aG9kcyIsImltYWdlQ29udGFpbmVyIiwiRyIsIiRyZWZzIiwic2VsZiIsIlVwbG9hZEltYWdlIiwicGx1Z2luVXJsIiwidG9wQ29udGV4dCIsInBsdWdpbiIsInVybCIsImltYWdlQXBpIiwiZmllbGQiLCJzdWNjZXNzIiwicmVzIiwiY29kZSIsImlzRnVuY3Rpb24iLCJfdGhpcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2hvdyIsImFsbCIsInJvbGVBcGkiLCIkZXJyb3IiLCJzZXRBcmdzIiwidGhlbiIsImdldERhdGEiLCJkZXRhaWwiLCJmaW5hbGx5IiwiaGlkZSIsImNoZWNrIiwic3RhdHVzIiwibXNnIiwiX3RoaXMyIiwibGF5ZXIiLCJhbGVydCIsImZpbHRlciIsInZTY3JvbGwiLCJmaXJzdEtleSIsImVtcHR5IiwidXBsb2FkIiwiaXNVbmRlZmluZWQiLCJlTm90aWNlIiwiJHN1Y2Nlc3MiLCJidG4iLCJidG4xIiwiaW5kZXgiLCJjbG9zZSIsImJ0bjIiLCJsb2NhdGlvbiIsImNvbXBvbmVudCIsIk9iamVjdCIsImNvbXBvbmVudE5vcm1hbGl6ZXIiLCJ0aXRsZSIsIm11bHRpcGxlIiwiY29sc3BhbiIsIm9wdGlvbnMiLCJfX2ZpbGUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19nbG9iYWxfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibiIsIl9ub2RlX21vZHVsZXNfbWluaV9jc3NfZXh0cmFjdF9wbHVnaW5fZGlzdF9sb2FkZXJfanNfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzFfMV9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfbG9hZGVyc19zdHlsZVBvc3RMb2FkZXJfanNfcHVibGljX2Nzc192dWVfdHlwZV9zdHlsZV9pbmRleF8xX2lkXzdmYjdkYzc0X3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc191c2VyX2Nzc192dWVfdHlwZV9zdHlsZV9pbmRleF8yX2lkXzdmYjdkYzc0X3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIl0sIm1hcHBpbmdzIjoia0dBQUEsSUFBQUEsRUFBQSxXQUNBLElBQUFDLEVBQUFDLEtBQ0FDLEVBQUFGLEVBQUFHLGVBQ0FDLEVBQUFKLEVBQUFLLE1BQUFELElBQUFGLEVBQ0EsT0FBQUUsRUFDQSxNQUNBLENBQUtFLFlBQUEsb0JBQ0wsQ0FDQUYsRUFBQSxjQUF3QkcsTUFBQSxDQUFTQyxTQUFBUixFQUFBUSxTQUFBQyxJQUFBVCxFQUFBUyxPQUNqQ1QsRUFBQVUsR0FBQSxLQUNBTixFQUFBLE9BQWlCRSxZQUFBLGtCQUFnQyxDQUNqREYsRUFBQSxPQUFtQkUsWUFBQSxNQUFvQixDQUN2Q0YsRUFDQSxPQUNBLENBQ0FPLEdBQUEsQ0FDQUMsT0FBQSxTQUFBQyxHQUVB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bUJBQWlDLENBQUFOLEVBQUFVLEdBQUEsUUFDdERWLEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxPQUFxQkUsWUFBQSxnQkFBOEIsQ0FBQU4sRUFBQVUsR0FBQSxVQUVuRFYsRUFBQVUsR0FBQSxLQUNBTixFQUFBLE9BQW1CRSxZQUFBLGdDQUluQixXQUNBLElBQ0FKLEVBREFELEtBQ0FFLGVBQ0FDLEVBRkFILEtBRUFJLE1BQUFELElBQUFGLEVBQ0EsT0FBQUUsRUFBQSxNQUNBQSxFQUFBLE1BQWdCRyxNQUFBLENBQVN5SCxRQUFBLE1BQWlCLENBQzFDNUgsRUFDQSxTQUNBLENBQ0FFLFlBQUEsK0JBQ0FDLE1BQUEsQ0FBb0JxQixLQUFBLFdBRXBCLENBWEEzQixLQVdBUyxHQUFBLGVHNVVBLEVBQ0EsS0FDQSxXQUNBLE1BdUJBaUgsRUFBQU0sUUFBQUMsT0FBQSxpQ0FDZUMsRUFBQSxRQUFBUixrRUN6Q2YsSUFBQVMsRUFBQUMsRUFBQSxLQUFBQSxFQUFBQyxFQUFBRixHQUEyUixnRkNBM1IsSUFBQUcsRUFBQUYsRUFBQSxLQUFBQSxFQUFBQyxFQUFBQyxHQUFtVCxvQ0NBblQsSUFBQUMsRUFBQUgsRUFBQSxLQUFBQSxFQUFBQyxFQUFBRSxHQUFpVCIsImZpbGUiOiJqcy8zMi5qcz92ZXJzaW9uPTEuMC4wIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgc3RhdGljQ2xhc3M6IFwibW9kdWxlLWNvbnRhaW5lclwiIH0sXG4gICAgW1xuICAgICAgX2MoXCJtb2R1bGUtbmF2XCIsIHsgYXR0cnM6IHsgdG9wUm91dGU6IF92bS50b3BSb3V0ZSwgcG9zOiBfdm0ucG9zIH0gfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJtb2R1bGUtY29udGVudFwiIH0sIFtcbiAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJpblwiIH0sIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZm9ybVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zdWJtaXQoJGV2ZW50KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJ0YWJsZVwiLCB7IHN0YXRpY0NsYXNzOiBcImlucHV0LXRiXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwidGJvZHlcIiwgW1xuICAgICAgICAgICAgICAgICAgX3ZtLnBhcmFtLm1vZGUgPT0gXCJhZGRcIlxuICAgICAgICAgICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENsYXNzKF92bS5lcnJvci51c2VybmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInVzZXJuYW1lXCIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi55So5oi35ZCNXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybS51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm0udXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS10ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtLnVzZXJuYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidXNlcm5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm5lY2Vzc2FyeVwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIipcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibXNnXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IudXNlcm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcInRyXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENsYXNzKF92bS5lcnJvci5wYXNzd29yZCksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IFwicGFzc3dvcmRcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtfdm0uX3YoXCLlr4bnoIFcIildKSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybS5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybS5wYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb3JtLXRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJ0ZXh0XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtLnBhc3N3b3JkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5mb3JtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhc3N3b3JkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLnBhcmFtLm1vZGUgPT0gXCJhZGRcIiA/IFtfdm0uX3YoXCIqXCIpXSA6IF92bS5fZSgpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJ0aXBcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIuWvhueggemVv+W6puiHs+WwkTbkvY1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IucGFzc3dvcmQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcInRyXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENsYXNzKF92bS5lcnJvci5hdmF0YXIpLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcImF2YXRhclwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW192bS5fdihcIuWktOWDj1wiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCB7IHJlZjogXCJpbWFnZS1jb250YWluZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInVwbG9hZC1pbWFnZVwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9tKDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImluaXQtc2hvdy1pbWFnZS1saXN0XCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5wYXJhbS5tb2RlID09IFwiZWRpdFwiICYmIF92bS5mb3JtLmF2YXRhcl9leHBsYWluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFwiaW1nXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJpbml0LXNob3ctaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBzcmM6IF92bS5mb3JtLmF2YXRhcl9leHBsYWluIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwicHJldmlldy1pbWFnZXMgaGlkZVwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX20oMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IuYXZhdGFyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDbGFzcyhfdm0uZXJyb3IucGhvbmUpLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInBob25lXCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi5omL5py65Y+356CBXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm0ucGhvbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm0ucGhvbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS10ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybS5waG9uZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtLCBcInBob25lXCIsICRldmVudC50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJ0aXBcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIuivt+i+k+WFpeaVsOWtl1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibXNnXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5waG9uZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwidHJcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBfdm0uZ2V0Q2xhc3MoX3ZtLmVycm9yLnJvbGVfaWQpLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInJvbGVfaWRcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtfdm0uX3YoXCLnlKjmiLfop5LoibJcIildKSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImktc2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljU3R5bGU6IHsgd2lkdGg6IFwiMzAwcHhcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtLnJvbGVfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZm9ybSwgXCJyb2xlX2lkXCIsICQkdilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJmb3JtLnJvbGVfaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5yb2xlLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaS1vcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBrZXk6IHYuaWQsIGF0dHJzOiB7IHZhbHVlOiB2LmlkIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihfdm0uX3Modi5uYW1lKSldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiKlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwidGlwXCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5yb2xlX2lkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fbSgyKVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgKVxuICAgICAgICBdKVxuICAgICAgXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJ2LWxvYWRpbmdcIiwgeyByZWY6IFwibG9hZGluZ1wiIH0pXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXG4gIGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdm0gPSB0aGlzXG4gICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gICAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwic2VsZWN0LWltYWdlc1wiIH0sIFtcbiAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidXBsb2FkLXNob3dcIiB9LCBbXG4gICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaW1hZ2UtbGluZVwiIH0sIFtcbiAgICAgICAgICBfYyhcImltZ1wiLCB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJpbWFnZSB1cGxvYWQtaW1hZ2UtYnRuXCIsXG4gICAgICAgICAgICBhdHRyczogeyBzcmM6IFwiXCIgfVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInNlbGVjdGVkLWNvdW50IGhpZGVcIiB9LCBbX3ZtLl92KFwiMTBcIildKVxuICAgICAgICBdKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJ0ZXh0LWxpbmVcIiB9LCBbX3ZtLl92KFwi6K+36YCJ5oup6KaB5LiK5Lyg55qE5Zu+54mHXCIpXSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiY2xlYXItc2VsZWN0ZWRcIixcbiAgICAgICAgICAgIGF0dHJzOiB7IHRpdGxlOiBcIua4heepuuW3sumAieaLqeeahOWbvueJh1wiIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFtfYyhcImltZ1wiLCB7IHN0YXRpY0NsYXNzOiBcImltYWdlXCIsIGF0dHJzOiB7IHNyYzogXCJcIiB9IH0pXVxuICAgICAgICApLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImlucHV0XCIsIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJ1cGxvYWQtaW1hZ2VzLWlucHV0XCIsXG4gICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJmaWxlXCIsIG5hbWU6IFwidXBsb2FkX2ltYWdlc1wiLCBtdWx0aXBsZTogXCJtdWx0aXBsZVwiIH1cbiAgICAgICAgfSlcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidGlwXCIgfSwgW192bS5fdihcIui/mei+ueaYr+aPkOekuuWGheWuuVwiKV0pXG4gICAgXSlcbiAgfSxcbiAgZnVuY3Rpb24oKSB7XG4gICAgdmFyIF92bSA9IHRoaXNcbiAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJ1cGxvYWQtaW1hZ2UtbGlzdCBoaWRlXCIgfSwgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJ1cGxvYWQtdGl0bGVcIiB9LCBbX3ZtLl92KFwi5b6F5LiK5Lyg5YiX6KGoXCIpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJpbWFnZS1saXN0XCIgfSwgW1xuICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImxpc3QtY29udGVudCBsaXN0LXRpdGxlXCIgfSwgW1xuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtcHJldmlld1wiIH0sIFtfdm0uX3YoXCLlm77niYfpooTop4hcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtdHlwZVwiIH0sIFtfdm0uX3YoXCLnsbvlnotcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtc2l6ZVwiIH0sIFtfdm0uX3YoXCLlpKflsI9cIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtc3BlZWRcIiB9LCBbX3ZtLl92KFwi6YCf5bqmXCIpXSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcIml0ZW0gZGl2LXN0YXR1c1wiIH0sIFtfdm0uX3YoXCLnirbmgIFcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtb3ByXCIgfSwgW192bS5fdihcIuaTjeS9nFwiKV0pXG4gICAgICAgIF0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImxpc3QtY29udGVudCBsaXN0LWJvZHlcIiB9KVxuICAgICAgXSlcbiAgICBdKVxuICB9LFxuICBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3ZtID0gdGhpc1xuICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICAgIHJldHVybiBfYyhcInRyXCIsIFtcbiAgICAgIF9jKFwidGRcIiwgeyBhdHRyczogeyBjb2xzcGFuOiBcIjJcIiB9IH0sIFtcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJydW4tYnV0dG9uIHJ1bi1idXR0b24tc3VibWl0XCIsXG4gICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInN1Ym1pdFwiIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFtfdm0uX3YoXCLmj5DkuqRcIildXG4gICAgICAgIClcbiAgICAgIF0pXG4gICAgXSlcbiAgfVxuXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBuYW1lOiBcInYtcm91dGVcIiAsXHJcbiAgICBkYXRhICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmb3JtOiB7XHJcbiAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICBlcnJvcjoge30gLFxyXG4gICAgICAgICAgICBhamF4OiB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IG51bGwgLFxyXG4gICAgICAgICAgICAgICAgc3VibWl0OiBudWxsICxcclxuICAgICAgICAgICAgfSAsXHJcbiAgICAgICAgICAgIGRvbToge30gLFxyXG4gICAgICAgICAgICBpbnM6IHtcclxuICAgICAgICAgICAgICAgIGxvYWRpbmc6IG51bGwgLFxyXG4gICAgICAgICAgICAgICAgc21hbGw6IG51bGwgLFxyXG4gICAgICAgICAgICAgICAgYmlnOiBudWxsICxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGVuZGluZzoge1xyXG4gICAgICAgICAgICAgICAgc3VibWl0OiBudWxsICxcclxuICAgICAgICAgICAgfSAsXHJcbiAgICAgICAgICAgIGRhdGE6IHt9ICxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHtcclxuICAgICAgICAgICAgICAgIGltYWdlOiBudWxsXHJcbiAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICBhcGk6IGFkbWluQXBpICxcclxuICAgICAgICAgICAgcm9sZTogW10gLFxyXG4gICAgICAgIH07XHJcbiAgICB9ICxcclxuICAgIGNyZWF0ZWQgKCkge1xyXG5cclxuICAgIH0gLFxyXG4gICAgbW91bnRlZCAoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0RG9tKCk7XHJcbiAgICAgICAgdGhpcy5pbml0SW5zdGFuY2UoKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuXHJcbiAgICB9ICxcclxuICAgIG1peGluczogW1xyXG4gICAgICAgIG1peGlucy5sb2FkaW5nICxcclxuICAgIF0gLFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGluaXREb20gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmRvbS5pbWFnZUNvbnRhaW5lciA9IEcodGhpcy4kcmVmc1snaW1hZ2UtY29udGFpbmVyJ10pO1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBpbml0SW5zdGFuY2UgKCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAvLyDlsI/lm77kuIrkvKBcclxuICAgICAgICAgICAgdGhpcy5pbnMuaW1hZ2UgPSBuZXcgVXBsb2FkSW1hZ2UodGhpcy5kb20uaW1hZ2VDb250YWluZXIuZ2V0KDApICwge1xyXG4gICAgICAgICAgICAgICAgcGx1Z2luVXJsOiB0b3BDb250ZXh0LnBsdWdpbiArICdVcGxvYWRJbWFnZS8nICxcclxuICAgICAgICAgICAgICAgIG1vZGU6ICdvdmVycmlkZScgLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAgdG9wQ29udGV4dC5pbWFnZUFwaSAsXHJcbiAgICAgICAgICAgICAgICBmaWVsZDogJ2ltYWdlJyAsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzIChyZXMgLCBjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEcuaXNGdW5jdGlvbihzZWxmLmNhbGxiYWNrLmltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrLmltYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIGluaXRpYWxpemUgKCkge1xyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g6I635Y+W6KeS6ImyXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNob3coKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWpheC5hbGwgPSByb2xlQXBpLmFsbCgocmVzICwgY29kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZXJyb3IocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb2xlID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNldEFyZ3ModGhpcy5hamF4LmFsbCk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g6I635Y+W5b2T5YmN57yW6L6R5a+56LGhXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJhbS5tb2RlICE9ICdlZGl0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFqYXguZ2V0RGF0YSA9IHRoaXMuYXBpLmRldGFpbCh0aGlzLnBhcmFtLmlkICwgKHJlcyAsIGNvZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVycm9yKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybSA9IHJlcztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNldEFyZ3ModGhpcy5hamF4LmdldERhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g6ZqQ6JePXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIC8vIOiOt+WPluaVsOaNrlxyXG4gICAgICAgIGNoZWNrIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUgLFxyXG4gICAgICAgICAgICAgICAgZmllbGQ6ICcnICxcclxuICAgICAgICAgICAgICAgIG1zZzogJycgLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBzdWJtaXQgKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nLnN1Ym1pdCkge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXIuYWxlcnQoJ+ivt+axguS4rS4uLuivt+iAkOW/g+etieW+hScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgZmlsdGVyID0gdGhpcy5jaGVjaygpO1xyXG4gICAgICAgICAgICBpZiAoIWZpbHRlci5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JbZmlsdGVyLmZpZWxkXSA9IGZpbHRlci5tc2c7XHJcbiAgICAgICAgICAgICAgICB2U2Nyb2xsKGZpbHRlci5maWVsZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGVuZGluZy5zdWJtaXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNob3coKTtcclxuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g5LiK5Lyg5Z+65pys5pWw5o2uXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFqYXguc3VibWl0ID0gdGhpcy5hcGlbdGhpcy5wYXJhbS5tb2RlXSh0aGlzLmZvcm0gLCAocmVzICwgY29kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLnN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdlNjcm9sbChHLmZpcnN0S2V5KHJlcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlcnJvcihyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0uaWQgPSByZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNldEFyZ3ModGhpcy5hamF4LnN1Ym1pdCAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDkuIrkvKDnlKjmiLflpLTlg49cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oOeUqOaIt+WktOWDj1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucy5pbWFnZS5lbXB0eSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5pbWFnZSA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnMuaW1hZ2UudXBsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDmm7TmlrDnlKjmiLflpLTlg49cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChHLmlzVW5kZWZpbmVkKHJlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgIT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lTm90aWNlKHJlcy5yZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXMgPSByZXMucmVzO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOabtOaWsOeUqOaIt+WktOWDj1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBpLmltYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuZm9ybS5pZCAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiByZXMudXJsICxcclxuICAgICAgICAgICAgICAgICAgICB9ICwgKHJlcyAsIGNvZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZU5vdGljZShyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g5o+Q56S65oiQ5YqfXHJcbiAgICAgICAgICAgICAgICB0aGlzLiRzdWNjZXNzKCfmk43kvZzmiJDlip8nICwge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bjogWyfnu6fnu60nICsgKHRoaXMucGFyYW0ubW9kZSA9PSAnZWRpdCcgPyAn57yW6L6RJyA6ICfmt7vliqAnKSAsICfnlKjmiLfliJfooagnXSAsXHJcbiAgICAgICAgICAgICAgICAgICAgYnRuMSAoaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuY2xvc2UoaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ0bjIgKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvY2F0aW9uKCcvYWRtaW4vbGlzdCcgLCBudWxsICwgJ19zZWxmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g5pu05paw54q25oCBXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmcuc3VibWl0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLmhpZGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSAsXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTAhLi91c2VyLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTAhLi91c2VyLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi91c2VyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03ZmI3ZGM3NCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9qcy91c2VyLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9qcy91c2VyLmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuLi9wdWJsaWMvY3NzL2dsb2JhbC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuaW1wb3J0IHN0eWxlMSBmcm9tIFwiLi4vcHVibGljL2Nzcy9wdWJsaWMuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTEmaWQ9N2ZiN2RjNzQmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcbmltcG9ydCBzdHlsZTIgZnJvbSBcIi4vY3NzL3VzZXIuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTImaWQ9N2ZiN2RjNzQmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjdmYjdkYzc0XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiRDpcXFxcd29ya1xcXFxjb2RlXFxcXGNhclxcXFxwdWJsaWNcXFxcbW9kdWxlXFxcXGFkbWluXFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghbW9kdWxlLmhvdC5kYXRhKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc3ZmI3ZGM3NCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc3ZmI3ZGM3NCcsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vdXNlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9N2ZiN2RjNzQmc2NvcGVkPXRydWUmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignN2ZiN2RjNzQnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcInNvdXJjZS92dWUvdmlldy9hZG1pbi91c2VyLnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi9nbG9iYWwuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi9nbG9iYWwuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vcHVibGljLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTdmYjdkYzc0JnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vcHVibGljLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTdmYjdkYzc0JnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL3VzZXIuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTImaWQ9N2ZiN2RjNzQmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi91c2VyLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0yJmlkPTdmYjdkYzc0JnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiIl0sInNvdXJjZVJvb3QiOiIifQ==