(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{377:function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"module-container"},[n("module-nav",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(" "),n("div",{staticClass:"module-content"},[n("div",{staticClass:"in"},[n("v-menu-switch",{ref:"menu-switch",attrs:{data:t.navMenu}}),t._v(" "),n("form",{on:{submit:function(i){return i.preventDefault(),t.submit(i)}}},[n("div",{ref:"list",staticClass:"list"},t._l(t.rule,function(i){return n("div",{key:i.id,staticClass:"module",attrs:{"data-id":i.id}},[n("div",{staticClass:"content"},[n("div",{staticClass:"top"},[n("div",{staticClass:"left"},[t._v("模块检测结果")]),t._v(" "),n("div",{staticClass:"right"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:i.result,expression:"module.result"}],key:i.id,staticClass:"form-textarea",attrs:{placeholder:"请输入检测结果..."},domProps:{value:i.result},on:{input:function(n){n.target.composing||t.$set(i,"result",n.target.value)}}})])]),t._v(" "),n("div",{staticClass:"btm"},t._l(i.position,function(i){return n("div",{key:i.id,staticClass:"item"},[n("div",{staticClass:"pos"},[i.group?n("span",[t._v("位置分组："+t._s(i.group.name))]):t._e(),t._v(t._s(" ".repeat(8))+"检测位置："+t._s(i.map_value?i.name+"【映射值："+i.map_value+"】":i.name))]),t._v(" "),n("div",{staticClass:"list"},t._l(i.item,function(i){return n("div",{key:i.id,staticClass:"line"},[n("div",{staticClass:"name"},[t._v(t._s(i.map_value?i.name+"【映射值："+i.map_value+"】":i.name))]),t._v(" "),n("div",{staticClass:"value"},[n("RadioGroup",{model:{value:i.value,callback:function(n){t.$set(i,"value",n)},expression:"item.value"}},t._l(i.option,function(i){return n("Radio",{key:i.key,attrs:{label:i.key}},[t._v(t._s(i.value))])}),1)],1),t._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:i.desc,expression:"item.desc"}],staticClass:"form-text",attrs:{type:"text",placeholder:"结果描述"},domProps:{value:i.desc},on:{input:function(n){n.target.composing||t.$set(i,"desc",n.target.value)}}})])])}),0)])}),0)]),t._v(" "),i.image?n("div",{staticClass:"preview"},[n("div",{staticClass:"function"},[n("v-button",{attrs:{color:"blue"},on:{click:function(i){t.opacity=.2}}},[t._v("透明度：20%")]),t._v(" "),n("v-button",{attrs:{color:"blue"},on:{click:function(i){t.opacity=.5}}},[t._v("透明度：50%")]),t._v(" "),n("v-button",{attrs:{color:"blue"},on:{click:function(i){t.opacity=1}}},[t._v("透明度：100%")])],1),t._v(" "),n("div",{staticClass:"con",style:"opacity: "+t.opacity+";",on:{click:function(n){return t.toLink(i.image_explain)}}},[n("img",{staticClass:"image",attrs:{src:i.image_explain}})])]):t._e()])}),0),t._v(" "),n("div",{staticClass:"submit"},[n("v-button",{attrs:{color:"submit",type:"submit"}},[t._v("提交")])],1)])],1)]),t._v(" "),n("v-loading",{ref:"loading"})],1)};e._withStripped=!0;var a=n(396),o=n.n(a),s=n(452),r=n.n(s),u={name:"v-report",data:function(){return{form:{},dom:{},ins:{},ajax:{},pending:{},callback:{},value:{},type:"",api:carApi,menu:"one",navMenu:[{id:"one",name:"驾驶系统检测"},{id:"two",name:"控制系统检测"}],rule:[],report:[],opacity:1}},mixins:[mixins.loading,mixins.state,mixins.form.menuSwitch,mixins.form.confirm],mounted:function(){this.initDom(),this.initStatic(),this.initDynamic(),this.initInstance(),this.initialize()},methods:{initDom:function(){this.dom.list=G(this.$refs.list)},initStatic:function(){this.form.id=this.param.id},initDynamic:function(){this.dom.optionSet=this.dom.list.children()},initInstance:function(){},genMenu:function(){for(var t=this,i=0,n=null,e=[];i<this.rule.length;++i)n=this.rule[i],e.push({id:n.id,name:n.name}),0==i&&(this.menu=n.id);this.navMenu=e,this.$nextTick(function(){t.initMenuSwitch()})},initialize:function(){var t=this;new Promise(function(i){t.pendingState("loading"),t.api.rule(function(n,e){i(),200==e?(n.forEach(function(t){t.result="",t.position.forEach(function(t){t.item.forEach(function(t){t.option=G.jsonDecode(t.option),t.desc=""})})}),t.rule=n):t.eNotice(n)})}).then(function(){return new Promise(function(i){t.$nextTick(function(){t.initDynamic(),t.genMenu(),t.api.getReport({id:t.param.id},function(n,e){if(i(),200==e){t.report=n;var a=r()(t.rule),o=function(t,i,n){for(var e=0;e<n.length;++e){var a=n[e];if(a[i]==t)return a}return null};a.forEach(function(t){var i=o(t.id,"detection_module_id",n);i=i||{},t.result=i.result?i.result:"",G.isArray(t.position)&&t.position.forEach(function(t){var n=i.position?i.position:[],e=o(t.id,"detection_pos_id",n);e=e||{},G.isArray(t.item)&&t.item.forEach(function(t){var i=e.item?e.item:[],n=o(t.id,"detection_item_id",i);n=n||{},t.value=n.value?n.value:t.value,t.desc=n.desc?n.desc:t.desc})})}),t.rule=a}else{if(404==e)return;t.eNotice(n)}})})})}).finally(function(){t.initialState("loading")})},check:function(){return{status:!0,field:"",msg:""}},submit:function(){var t=this;new Promise(function(i){if(t.pending.submit)t.$info("请求中...请耐心等待");else{var n=t.check();if(!n.status)return t.error=G.createObject(t.error,o()({},n.field,n.msg)),void t.vScroll(n.field);console.log(t.rule),t.form.report=G.jsonEncode(t.rule),t.pendingState("loading","submit"),t.ajax.submit=t.api[t.param.mode](t.form,function(n,e){if(t.error={},200!=e)return t.initialState("loading","submit","submit"),void t.$error(n);i()}),t.ins.loading.setArgs(t.ajax.submit,"submit")}}).then(function(){t.confirm("车辆列表","/car/list")}).finally(function(){t.initialState("loading","submit","submit")})}}},c=(n(393),n(632),n(633),n(14)),l=Object(c.a)(u,e,[],!1,null,"75dfdd0a",null);l.options.__file="source/vue/view/car/report.vue";i.default=l.exports},392:function(t,i,n){},393:function(t,i,n){"use strict";var e=n(392);n.n(e).a},396:function(t,i){t.exports=function(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}},452:function(t,i,n){var e=n(453),a=n(454),o=n(455);t.exports=function(t){return e(t)||a(t)||o()}},453:function(t,i){t.exports=function(t){if(Array.isArray(t)){for(var i=0,n=new Array(t.length);i<t.length;i++)n[i]=t[i];return n}}},454:function(t,i){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},455:function(t,i){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},490:function(t,i,n){},491:function(t,i,n){},632:function(t,i,n){"use strict";var e=n(490);n.n(e).a},633:function(t,i,n){"use strict";var e=n(491);n.n(e).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvY2FyL3JlcG9ydC52dWU/ODU0MiIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvY2FyL2pzL3JlcG9ydC5qcz9lZTY5Iiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9jYXIvanMvcmVwb3J0LmpzIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9jYXIvcmVwb3J0LnZ1ZSIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvcHVibGljL2Nzcy9nbG9iYWwuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVNwcmVhZC5qcyIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvcHVibGljL2Nzcy9wdWJsaWMuY3NzPzc0YjIiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3Z1ZS92aWV3L2Nhci9jc3MvcmVwb3J0LmNzcyJdLCJuYW1lcyI6WyJyZW5kZXIiLCJfdm0iLCJ0aGlzIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsImF0dHJzIiwidG9wUm91dGUiLCJwb3MiLCJfdiIsInJlZiIsImRhdGEiLCJuYXZNZW51Iiwib24iLCJzdWJtaXQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9sIiwicnVsZSIsIm1vZHVsZSIsImtleSIsImlkIiwiZGF0YS1pZCIsImRpcmVjdGl2ZXMiLCJuYW1lIiwicmF3TmFtZSIsInZhbHVlIiwicmVzdWx0IiwiZXhwcmVzc2lvbiIsInBsYWNlaG9sZGVyIiwiZG9tUHJvcHMiLCJpbnB1dCIsInRhcmdldCIsImNvbXBvc2luZyIsIiRzZXQiLCJwb3NpdGlvbiIsImdyb3VwIiwiX3MiLCJfZSIsInJlcGVhdCIsIm1hcF92YWx1ZSIsIml0ZW0iLCJtb2RlbCIsImNhbGxiYWNrIiwiJCR2Iiwib3B0aW9uIiwidiIsImxhYmVsIiwiZGVzYyIsInR5cGUiLCJpbWFnZSIsImNvbG9yIiwiY2xpY2siLCJvcGFjaXR5Iiwic3R5bGUiLCJ0b0xpbmsiLCJpbWFnZV9leHBsYWluIiwic3JjIiwiX3dpdGhTdHJpcHBlZCIsImpzX3JlcG9ydHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyIsImZvcm0iLCJkb20iLCJpbnMiLCJhamF4IiwicGVuZGluZyIsImFwaSIsImNhckFwaSIsIm1lbnUiLCJyZXBvcnQiLCJtaXhpbnMiLCJsb2FkaW5nIiwic3RhdGUiLCJtZW51U3dpdGNoIiwiY29uZmlybSIsIm1vdW50ZWQiLCJpbml0RG9tIiwiaW5pdFN0YXRpYyIsImluaXREeW5hbWljIiwiaW5pdEluc3RhbmNlIiwiaW5pdGlhbGl6ZSIsIm1ldGhvZHMiLCJsaXN0IiwiRyIsIiRyZWZzIiwicGFyYW0iLCJvcHRpb25TZXQiLCJjaGlsZHJlbiIsImdlbk1lbnUiLCJfdGhpcyIsImkiLCJjdXIiLCJsZW5ndGgiLCJwdXNoIiwiJG5leHRUaWNrIiwiaW5pdE1lbnVTd2l0Y2giLCJfdGhpczIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInBlbmRpbmdTdGF0ZSIsInJlcyIsImNvZGUiLCJmb3JFYWNoIiwidjEiLCJ2MiIsImpzb25EZWNvZGUiLCJlTm90aWNlIiwidGhlbiIsImdldFJlcG9ydCIsInRvQ29uc3VtYWJsZUFycmF5X2RlZmF1bHQiLCJmaW5kIiwiX21vZHVsZSIsImlzQXJyYXkiLCJwb3NpdGlvbnMiLCJfcG9zaXRpb24iLCJpdGVtcyIsIl9pdGVtIiwiZmluYWxseSIsImluaXRpYWxTdGF0ZSIsImNoZWNrIiwic3RhdHVzIiwiZmllbGQiLCJtc2ciLCJfdGhpczMiLCIkaW5mbyIsImZpbHRlciIsImVycm9yIiwiY3JlYXRlT2JqZWN0IiwiZGVmaW5lUHJvcGVydHlfZGVmYXVsdCIsInZTY3JvbGwiLCJjb25zb2xlIiwibG9nIiwianNvbkVuY29kZSIsIm1vZGUiLCIkZXJyb3IiLCJzZXRBcmdzIiwiY29tcG9uZW50IiwiT2JqZWN0IiwiY29tcG9uZW50Tm9ybWFsaXplciIsIm9wdGlvbnMiLCJfX2ZpbGUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19nbG9iYWxfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibiIsImV4cG9ydHMiLCJvYmoiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFycmF5V2l0aG91dEhvbGVzIiwiaXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVTcHJlYWQiLCJhcnIiLCJBcnJheSIsImFycjIiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJmcm9tIiwiVHlwZUVycm9yIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19wdWJsaWNfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzFfaWRfNzVkZmRkMGFfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfbm9kZV9tb2R1bGVzX21pbmlfY3NzX2V4dHJhY3RfcGx1Z2luX2Rpc3RfbG9hZGVyX2pzX25vZGVfbW9kdWxlc19jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX3JlcG9ydF9jc3NfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMl9pZF83NWRmZGQwYV9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyJdLCJtYXBwaW5ncyI6ImlHQUFBLElBQUFBLEVBQUEsV0FDQSxJQUFBQyxFQUFBQyxLQUNBQyxFQUFBRixFQUFBRyxlQUNBQyxFQUFBSixFQUFBSyxNQUFBRCxJQUFBRixFQUNBLE9BQUFFLEVBQ0EsTUFDQSxDQUFLRSxZQUFBLG9CQUNMLENBQ0FGLEVBQUEsY0FBd0JHLE1BQUEsQ0FBU0MsU0FBQVIsRUFBQVEsU0FBQUMsSUFBQVQsRUFBQVMsT0FDakNULEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxPQUFpQkUsWUFBQSxrQkFBZ0MsQ0FDakRGLEVBQ0EsTUFDQSxDQUFXRSxZQUFBLE1BQ1gsQ0FDQUYsRUFBQSxpQkFDQU8sSUFBQSxjQUNBSixNQUFBLENBQXNCSyxLQUFBWixFQUFBYSxXQUV0QmIsRUFBQVUsR0FBQSxLQUNBTixFQUNBLE9BQ0EsQ0FDQVUsR0FBQSxDQUNBQyxPQUFBLFNBQUFDLEdBRUEsT0FEQUEsRUFBQUMsaUJBQ0FqQixFQUFBZSxPQUFBQyxNQUlBLENBQ0FaLEVBQ0EsTUFDQSxDQUFtQk8sSUFBQSxPQUFBTCxZQUFBLFFBQ25CTixFQUFBa0Is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OUQsT0FBZ0JGLElBQ2pFa0UsRUFBQWxFLEdBQUFnRSxFQUFBaEUsR0FHQSxPQUFBa0UsdUJDRkF4SSxFQUFBNkgsUUFKQSxTQUFBWSxHQUNBLEdBQUFDLE9BQUFDLFlBQUF0QixPQUFBb0IsSUFBQSx1QkFBQXBCLE9BQUF1QixVQUFBQyxTQUFBQyxLQUFBTCxHQUFBLE9BQUFGLE1BQUFRLEtBQUFOLHVCQ0dBekksRUFBQTZILFFBSkEsV0FDQSxVQUFBbUIsVUFBQSxrSUNEQSxJQUFBQyxFQUFBdEIsRUFBQSxLQUFBQSxFQUFBQyxFQUFBcUIsR0FBbVQsb0NDQW5ULElBQUFDLEVBQUF2QixFQUFBLEtBQUFBLEVBQUFDLEVBQUFzQixHQUFtVCIsImZpbGUiOiJqcy8zLmpzP3ZlcnNpb249MS4wLjEiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFxuICAgIFwiZGl2XCIsXG4gICAgeyBzdGF0aWNDbGFzczogXCJtb2R1bGUtY29udGFpbmVyXCIgfSxcbiAgICBbXG4gICAgICBfYyhcIm1vZHVsZS1uYXZcIiwgeyBhdHRyczogeyB0b3BSb3V0ZTogX3ZtLnRvcFJvdXRlLCBwb3M6IF92bS5wb3MgfSB9KSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcIm1vZHVsZS1jb250ZW50XCIgfSwgW1xuICAgICAgICBfYyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiaW5cIiB9LFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIF9jKFwidi1tZW51LXN3aXRjaFwiLCB7XG4gICAgICAgICAgICAgIHJlZjogXCJtZW51LXN3aXRjaFwiLFxuICAgICAgICAgICAgICBhdHRyczogeyBkYXRhOiBfdm0ubmF2TWVudSB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgXCJmb3JtXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zdWJtaXQoJGV2ZW50KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgcmVmOiBcImxpc3RcIiwgc3RhdGljQ2xhc3M6IFwibGlzdFwiIH0sXG4gICAgICAgICAgICAgICAgICBfdm0uX2woX3ZtLnJ1bGUsIGZ1bmN0aW9uKG1vZHVsZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IG1vZHVsZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcIm1vZHVsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgXCJkYXRhLWlkXCI6IG1vZHVsZS5pZCB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImNvbnRlbnRcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidG9wXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwibGVmdFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIuaooeWdl+ajgOa1i+e7k+aenFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJyaWdodFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGV4dGFyZWFcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbW9kdWxlLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwibW9kdWxlLnJlc3VsdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IG1vZHVsZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS10ZXh0YXJlYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBwbGFjZWhvbGRlcjogXCLor7fovpPlhaXmo4DmtYvnu5PmnpwuLi5cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogbW9kdWxlLnJlc3VsdCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVzdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJidG1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fbChtb2R1bGUucG9zaXRpb24sIGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBwb3NpdGlvbi5pZCwgc3RhdGljQ2xhc3M6IFwiaXRlbVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInBvc1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLmdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gX2MoXCJzcGFuXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLkvY3nva7liIbnu4TvvJpcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKHBvc2l0aW9uLmdyb3VwLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFwiwqBcIi5yZXBlYXQoOCkpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIuajgOa1i+S9jee9ru+8mlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5tYXBfdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwb3NpdGlvbi5uYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi44CQ5pig5bCE5YC877yaXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ubWFwX3ZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi44CRXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBwb3NpdGlvbi5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJsaXN0XCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fbChwb3NpdGlvbi5pdGVtLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsga2V5OiBpdGVtLmlkLCBzdGF0aWNDbGFzczogXCJsaW5lXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcIm5hbWVcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm1hcF92YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGl0ZW0ubmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIuOAkOaYoOWwhOWAvO+8mlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ubWFwX3ZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi44CRXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpdGVtLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcInZhbHVlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSYWRpb0dyb3VwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0udmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCR2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIml0ZW0udmFsdWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKGl0ZW0ub3B0aW9uLCBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJhZGlvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB2LmtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGxhYmVsOiB2LmtleSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KF92bS5fcyh2LnZhbHVlKSldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImRlc2NcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uZGVzYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJpdGVtLmRlc2NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS10ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwi57uT5p6c5o+P6L+wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBpdGVtLmRlc2MgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5pbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwicHJldmlld1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImZ1bmN0aW9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2LWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBjb2xvcjogXCJibHVlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0ub3BhY2l0eSA9IDAuMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCLpgI/mmI7luqbvvJoyMCVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2LWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBjb2xvcjogXCJibHVlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0ub3BhY2l0eSA9IDAuNVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCLpgI/mmI7luqbvvJo1MCVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2LWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBjb2xvcjogXCJibHVlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0ub3BhY2l0eSA9IDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwi6YCP5piO5bqm77yaMTAwJVwiKV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJjb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJvcGFjaXR5OiBcIiArIF92bS5vcGFjaXR5ICsgXCI7XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS50b0xpbmsobW9kdWxlLmltYWdlX2V4cGxhaW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJpbWdcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaW1hZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHNyYzogbW9kdWxlLmltYWdlX2V4cGxhaW4gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpXG4gICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJzdWJtaXRcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcInYtYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgeyBhdHRyczogeyBjb2xvcjogXCJzdWJtaXRcIiwgdHlwZTogXCJzdWJtaXRcIiB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgW192bS5fdihcIuaPkOS6pFwiKV1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIClcbiAgICAgICAgICBdLFxuICAgICAgICAgIDFcbiAgICAgICAgKVxuICAgICAgXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJ2LWxvYWRpbmdcIiwgeyByZWY6IFwibG9hZGluZ1wiIH0pXG4gICAgXSxcbiAgICAxXG4gIClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTAhLi9yZXBvcnQuanM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P3JlZi0tMCEuL3JlcG9ydC5qcz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImV4cG9ydCBkZWZhdWx0IHtcclxuICAgIG5hbWU6ICd2LXJlcG9ydCcgLFxyXG4gICAgZGF0YSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZm9ybToge30gLFxyXG4gICAgICAgICAgICBkb206IHt9ICxcclxuICAgICAgICAgICAgaW5zOiB7fSAsXHJcbiAgICAgICAgICAgIGFqYXg6IHt9ICxcclxuICAgICAgICAgICAgcGVuZGluZzoge30gLFxyXG4gICAgICAgICAgICBjYWxsYmFjazoge30gLFxyXG4gICAgICAgICAgICB2YWx1ZToge30gLFxyXG4gICAgICAgICAgICB0eXBlOiAnJyAsXHJcbiAgICAgICAgICAgIGFwaTogY2FyQXBpICxcclxuICAgICAgICAgICAgbWVudTogJ29uZScgLFxyXG4gICAgICAgICAgICBuYXZNZW51OiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdvbmUnICxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAn6am+6am257O757uf5qOA5rWLJyAsXHJcbiAgICAgICAgICAgICAgICB9ICxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogJ3R3bycgLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICfmjqfliLbns7vnu5/mo4DmtYsnICxcclxuICAgICAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICBdICxcclxuICAgICAgICAgICAgcnVsZTogW10gLFxyXG4gICAgICAgICAgICByZXBvcnQ6IFtdICxcclxuICAgICAgICAgICAgb3BhY2l0eTogMSAsXHJcbiAgICAgICAgfTtcclxuICAgIH0gLFxyXG4gICAgbWl4aW5zOiBbXHJcbiAgICAgICAgLy8g5Yqg6L29XHJcbiAgICAgICAgbWl4aW5zLmxvYWRpbmcgLFxyXG4gICAgICAgIC8vIOeKtuaAgVxyXG4gICAgICAgIG1peGlucy5zdGF0ZSAsXHJcbiAgICAgICAgLy8g6I+c5Y2VXHJcbiAgICAgICAgbWl4aW5zLmZvcm0ubWVudVN3aXRjaCAsXHJcbiAgICAgICAgLy8g56Gu5a6aXHJcbiAgICAgICAgbWl4aW5zLmZvcm0uY29uZmlybSAsXHJcbiAgICBdICxcclxuICAgIG1vdW50ZWQgKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdERvbSgpO1xyXG4gICAgICAgIHRoaXMuaW5pdFN0YXRpYygpO1xyXG4gICAgICAgIHRoaXMuaW5pdER5bmFtaWMoKTtcclxuICAgICAgICB0aGlzLmluaXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgfSAsXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgaW5pdERvbSAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLmxpc3QgPSBHKHRoaXMuJHJlZnMubGlzdCk7XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIGluaXRTdGF0aWMgKCkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcm0uaWQgPSB0aGlzLnBhcmFtLmlkO1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBpbml0RHluYW1pYyAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZG9tLm9wdGlvblNldCA9IHRoaXMuZG9tLmxpc3QuY2hpbGRyZW4oKTtcclxuICAgICAgICB9ICxcclxuXHJcbiAgICAgICAgaW5pdEluc3RhbmNlICgpIHtcclxuXHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIC8vIOeUn+aIkCBtZW51XHJcbiAgICAgICAgZ2VuTWVudSAoKSB7XHJcbiAgICAgICAgICAgIGxldCBpID0gMDtcclxuICAgICAgICAgICAgbGV0IGN1ciA9IG51bGw7XHJcbiAgICAgICAgICAgIGxldCBtZW51ID0gW107XHJcbiAgICAgICAgICAgIGxldCBjdXJNZW51ID0gbnVsbDtcclxuICAgICAgICAgICAgZm9yICg7IGkgPCB0aGlzLnJ1bGUubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGN1ciA9IHRoaXMucnVsZVtpXTtcclxuICAgICAgICAgICAgICAgIG1lbnUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGN1ci5pZCAsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogY3VyLm5hbWUgLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51ID0gY3VyLmlkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubmF2TWVudSA9IG1lbnU7XHJcbiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdE1lbnVTd2l0Y2goKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIGluaXRpYWxpemUgKCkge1xyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdGUoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgICAgIC8vIOiOt+WPluinhOWImVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcGkucnVsZSgocmVzICwgY29kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lTm90aWNlKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5mb3JFYWNoKCh2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYucmVzdWx0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYucG9zaXRpb24uZm9yRWFjaCgodjEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYxLml0ZW0uZm9yRWFjaCgodjIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Mi5vcHRpb24gPSBHLmpzb25EZWNvZGUodjIub3B0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Mi5kZXNjID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXREeW5hbWljKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2VuTWVudSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaS5nZXRSZXBvcnQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMucGFyYW0uaWQgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICwgKHJlcyAsIGNvZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09IDQwNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVOb3RpY2UocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBvcnQgPSByZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcnVsZSA9IFsuLi50aGlzLnJ1bGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbmQgPSAodmFsdWUgLCBrZXkgLCBsaXN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ciA9IGxpc3RbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJba2V5XSA9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2RvIOeojeS9nOWkhOeQhlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS5mb3JFYWNoKChtb2R1bGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX21vZHVsZSA9IGZpbmQobW9kdWxlLmlkICwgJ2RldGVjdGlvbl9tb2R1bGVfaWQnICwgcmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vZHVsZSA9IF9tb2R1bGUgPyBfbW9kdWxlIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLnJlc3VsdCA9IF9tb2R1bGUucmVzdWx0ID8gX21vZHVsZS5yZXN1bHQgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUcuaXNBcnJheShtb2R1bGUucG9zaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5wb3NpdGlvbi5mb3JFYWNoKChwb3NpdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBfbW9kdWxlLnBvc2l0aW9uID8gX21vZHVsZS5wb3NpdGlvbiA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX3Bvc2l0aW9uID0gZmluZChwb3NpdGlvbi5pZCAsICdkZXRlY3Rpb25fcG9zX2lkJyAsIHBvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcG9zaXRpb24gPSBfcG9zaXRpb24gPyBfcG9zaXRpb24gOiB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFHLmlzQXJyYXkocG9zaXRpb24uaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24uaXRlbS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IF9wb3NpdGlvbi5pdGVtID8gX3Bvc2l0aW9uLml0ZW0gOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBfaXRlbSA9IGZpbmQoaXRlbS5pZCAsICdkZXRlY3Rpb25faXRlbV9pZCcgLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZW0gPSBfaXRlbSA/IF9pdGVtIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnZhbHVlID0gX2l0ZW0udmFsdWUgPyBfaXRlbS52YWx1ZSA6IGl0ZW0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRlc2MgPSBfaXRlbS5kZXNjID8gX2l0ZW0uZGVzYyA6IGl0ZW0uZGVzYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucnVsZSA9IHJ1bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUoJ2xvYWRpbmcnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIGNoZWNrICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSAsXHJcbiAgICAgICAgICAgICAgICBmaWVsZDogJycgLFxyXG4gICAgICAgICAgICAgICAgbXNnOiAnJyAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIHN1Ym1pdCAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nLnN1Ym1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGluZm8oJ+ivt+axguS4rS4uLuivt+iAkOW/g+etieW+hScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsdGVyID0gdGhpcy5jaGVjaygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXIuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IEcuY3JlYXRlT2JqZWN0KHRoaXMuZXJyb3IgLCB7W2ZpbHRlci5maWVsZF06IGZpbHRlci5tc2d9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZTY3JvbGwoZmlsdGVyLmZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5ydWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5yZXBvcnQgPSBHLmpzb25FbmNvZGUodGhpcy5ydWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1N0YXRlKCdsb2FkaW5nJyAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWpheC5zdWJtaXQgPSB0aGlzLmFwaVt0aGlzLnBhcmFtLm1vZGVdKHRoaXMuZm9ybSAsIChyZXMgLCBjb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZSgnbG9hZGluZycgLCAnc3VibWl0JyAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZXJyb3IocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNldEFyZ3ModGhpcy5hamF4LnN1Ym1pdCAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm0oJ+i9pui+huWIl+ihqCcgLCAnL2Nhci9saXN0Jyk7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUoJ2xvYWRpbmcnICwgJ3N1Ym1pdCcgLCAnc3VibWl0Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gLFxyXG4gICAgfSAsXHJcbn07IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9yZXBvcnQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTc1ZGZkZDBhJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2pzL3JlcG9ydC5qcz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vanMvcmVwb3J0LmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuLi9wdWJsaWMvY3NzL2dsb2JhbC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIlxuaW1wb3J0IHN0eWxlMSBmcm9tIFwiLi4vcHVibGljL2Nzcy9wdWJsaWMuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTEmaWQ9NzVkZmRkMGEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcbmltcG9ydCBzdHlsZTIgZnJvbSBcIi4vY3NzL3JlcG9ydC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MiZpZD03NWRmZGQwYSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNzVkZmRkMGFcIixcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCJEOlxcXFx3b3JrXFxcXGNvZGVcXFxcY2FyXFxcXHB1YmxpY1xcXFxtb2R1bGVcXFxcYWRtaW5cXFxcbm9kZV9tb2R1bGVzXFxcXHZ1ZS1ob3QtcmVsb2FkLWFwaVxcXFxkaXN0XFxcXGluZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFtb2R1bGUuaG90LmRhdGEpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzc1ZGZkZDBhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzc1ZGZkZDBhJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9yZXBvcnQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTc1ZGZkZDBhJnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzc1ZGZkZDBhJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzb3VyY2UvdnVlL3ZpZXcvY2FyL3JlcG9ydC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vZ2xvYmFsLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vZ2xvYmFsLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiIiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xyXG4gIGlmIChrZXkgaW4gb2JqKSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcclxuICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgIHdyaXRhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5OyIsInZhciBhcnJheVdpdGhvdXRIb2xlcyA9IHJlcXVpcmUoXCIuL2FycmF5V2l0aG91dEhvbGVzXCIpO1xyXG5cclxudmFyIGl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheVwiKTtcclxuXHJcbnZhciBub25JdGVyYWJsZVNwcmVhZCA9IHJlcXVpcmUoXCIuL25vbkl0ZXJhYmxlU3ByZWFkXCIpO1xyXG5cclxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xyXG4gIHJldHVybiBhcnJheVdpdGhvdXRIb2xlcyhhcnIpIHx8IGl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gX3RvQ29uc3VtYWJsZUFycmF5OyIsImZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHtcclxuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICBhcnIyW2ldID0gYXJyW2ldO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcnIyO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBfYXJyYXlXaXRob3V0SG9sZXM7IiwiZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XHJcbiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5OyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcclxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlU3ByZWFkOyIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi9wdWJsaWMuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTEmaWQ9NzVkZmRkMGEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi9wdWJsaWMuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTEmaWQ9NzVkZmRkMGEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vcmVwb3J0LmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0yJmlkPTc1ZGZkZDBhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vcmVwb3J0LmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0yJmlkPTc1ZGZkZDBhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiIl0sInNvdXJjZVJvb3QiOiIifQ==