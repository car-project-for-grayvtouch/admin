(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{377:function(t,i,n){"use strict";n.r(i);var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"module-container"},[n("module-nav",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(" "),n("div",{staticClass:"module-content"},[n("div",{staticClass:"in"},[n("v-menu-switch",{ref:"menu-switch",attrs:{data:t.navMenu}}),t._v(" "),n("form",{on:{submit:function(i){return i.preventDefault(),t.submit(i)}}},[n("div",{ref:"list",staticClass:"list"},t._l(t.rule,function(i){return n("div",{key:i.id,staticClass:"module",attrs:{"data-id":i.id}},[n("div",{staticClass:"content"},[n("div",{staticClass:"top"},[n("div",{staticClass:"left"},[t._v("模块检测结果")]),t._v(" "),n("div",{staticClass:"right"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:i.result,expression:"module.result"}],key:i.id,staticClass:"form-textarea",attrs:{placeholder:"请输入检测结果..."},domProps:{value:i.result},on:{input:function(n){n.target.composing||t.$set(i,"result",n.target.value)}}})])]),t._v(" "),n("div",{staticClass:"btm"},t._l(i.position,function(i){return n("div",{key:i.id,staticClass:"item"},[n("div",{staticClass:"pos"},[i.group?n("span",[t._v("位置分组："+t._s(i.group.name))]):t._e(),t._v(t._s(" ".repeat(8))+"检测位置："+t._s(i.map_value?i.name+"【映射值："+i.map_value+"】":i.name))]),t._v(" "),n("div",{staticClass:"list"},t._l(i.item,function(i){return n("div",{key:i.id,staticClass:"line"},[n("div",{staticClass:"name"},[t._v(t._s(i.map_value?i.name+"【映射值："+i.map_value+"】":i.name))]),t._v(" "),n("div",{staticClass:"value"},[n("RadioGroup",{model:{value:i.value,callback:function(n){t.$set(i,"value",n)},expression:"item.value"}},t._l(i.option,function(i){return n("Radio",{key:i.key,attrs:{label:i.key}},[t._v(t._s(i.value))])}),1)],1),t._v(" "),n("div",{staticClass:"desc"},[n("input",{directives:[{name:"model",rawName:"v-model",value:i.desc,expression:"item.desc"}],staticClass:"form-text",attrs:{type:"text",placeholder:"结果描述"},domProps:{value:i.desc},on:{input:function(n){n.target.composing||t.$set(i,"desc",n.target.value)}}})])])}),0)])}),0)]),t._v(" "),i.image?n("div",{staticClass:"preview"},[n("div",{staticClass:"function"},[n("v-button",{attrs:{color:"blue"},on:{click:function(i){t.opacity=.2}}},[t._v("透明度：20%")]),t._v(" "),n("v-button",{attrs:{color:"blue"},on:{click:function(i){t.opacity=.5}}},[t._v("透明度：50%")]),t._v(" "),n("v-button",{attrs:{color:"blue"},on:{click:function(i){t.opacity=1}}},[t._v("透明度：100%")])],1),t._v(" "),n("div",{staticClass:"con",style:"opacity: "+t.opacity+";",on:{click:function(n){return t.toLink(i.image_explain)}}},[n("img",{staticClass:"image",attrs:{src:i.image_explain}})])]):t._e()])}),0),t._v(" "),n("div",{staticClass:"submit"},[n("v-button",{attrs:{color:"submit",type:"submit"}},[t._v("提交")])],1)])],1)]),t._v(" "),n("v-loading",{ref:"loading"})],1)};e._withStripped=!0;var a=n(396),o=n.n(a),s=n(452),r=n.n(s),u={name:"v-report",data:function(){return{form:{},dom:{},ins:{},ajax:{},pending:{},callback:{},value:{},type:"",api:carApi,menu:"one",navMenu:[{id:"one",name:"驾驶系统检测"},{id:"two",name:"控制系统检测"}],rule:[],report:[],opacity:1}},mixins:[mixins.loading,mixins.state,mixins.form.menuSwitch,mixins.form.confirm],mounted:function(){this.initDom(),this.initStatic(),this.initDynamic(),this.initInstance(),this.initialize()},methods:{initDom:function(){this.dom.list=G(this.$refs.list)},initStatic:function(){this.form.id=this.param.id},initDynamic:function(){this.dom.optionSet=this.dom.list.children()},initInstance:function(){},genMenu:function(){for(var t=this,i=0,n=null,e=[];i<this.rule.length;++i)n=this.rule[i],e.push({id:n.id,name:n.name}),0==i&&(this.menu=n.id);this.navMenu=e,this.$nextTick(function(){t.initMenuSwitch()})},initialize:function(){var t=this;new Promise(function(i){t.pendingState("loading"),t.api.rule(function(n,e){i(),200==e?(n.forEach(function(t){t.result="",t.position.forEach(function(t){t.item.forEach(function(t){t.option=G.jsonDecode(t.option),t.desc=""})})}),t.rule=n):t.eNotice(n)})}).then(function(){return new Promise(function(i){t.$nextTick(function(){t.initDynamic(),t.genMenu(),t.api.getReport({id:t.param.id},function(n,e){if(i(),200==e){t.report=n;var a=r()(t.rule),o=function(t,i,n){for(var e=0;e<n.length;++e){var a=n[e];if(a[i]==t)return a}return null};a.forEach(function(t){var i=o(t.id,"detection_module_id",n);i=i||{},t.result=i.result?i.result:"",G.isArray(t.position)&&t.position.forEach(function(t){var n=i.position?i.position:[],e=o(t.id,"detection_pos_id",n);e=e||{},G.isArray(t.item)&&t.item.forEach(function(t){var i=e.item?e.item:[],n=o(t.id,"detection_item_id",i);n=n||{},t.value=n.value?n.value:t.value,t.desc=n.desc?n.desc:t.desc})})}),t.rule=a}else{if(404==e)return;t.eNotice(n)}})})})}).finally(function(){t.initialState("loading")})},check:function(){return{status:!0,field:"",msg:""}},submit:function(){var t=this;new Promise(function(i){if(t.pending.submit)t.$info("请求中...请耐心等待");else{var n=t.check();if(!n.status)return t.error=G.createObject(t.error,o()({},n.field,n.msg)),void t.vScroll(n.field);console.log(t.rule),t.form.report=G.jsonEncode(t.rule),t.pendingState("loading","submit"),t.ajax.submit=t.api[t.param.mode](t.form,function(n,e){if(t.error={},200!=e)return t.initialState("loading","submit","submit"),void t.$error(n);i()}),t.ins.loading.setArgs(t.ajax.submit,"submit")}}).then(function(){t.confirm("车辆列表","/car/list")}).finally(function(){t.initialState("loading","submit","submit")})}}},c=(n(393),n(629),n(630),n(14)),l=Object(c.a)(u,e,[],!1,null,"75dfdd0a",null);l.options.__file="source/vue/view/car/report.vue";i.default=l.exports},392:function(t,i,n){},393:function(t,i,n){"use strict";var e=n(392);n.n(e).a},396:function(t,i){t.exports=function(t,i,n){return i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,t}},452:function(t,i,n){var e=n(453),a=n(454),o=n(455);t.exports=function(t){return e(t)||a(t)||o()}},453:function(t,i){t.exports=function(t){if(Array.isArray(t)){for(var i=0,n=new Array(t.length);i<t.length;i++)n[i]=t[i];return n}}},454:function(t,i){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},455:function(t,i){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},490:function(t,i,n){},491:function(t,i,n){},629:function(t,i,n){"use strict";var e=n(490);n.n(e).a},630:function(t,i,n){"use strict";var e=n(491);n.n(e).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvY2FyL3JlcG9ydC52dWU/ODU0MiIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvY2FyL2pzL3JlcG9ydC5qcz9lZTY5Iiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9jYXIvanMvcmVwb3J0LmpzIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9jYXIvcmVwb3J0LnZ1ZSIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvcHVibGljL2Nzcy9nbG9iYWwuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aG91dEhvbGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9ub25JdGVyYWJsZVNwcmVhZC5qcyIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvcHVibGljL2Nzcy9wdWJsaWMuY3NzPzc0YjIiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3Z1ZS92aWV3L2Nhci9jc3MvcmVwb3J0LmNzcyJdLCJuYW1lcyI6WyJyZW5kZXIiLCJfdm0iLCJ0aGlzIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsImF0dHJzIiwidG9wUm91dGUiLCJwb3MiLCJfdiIsInJlZiIsImRhdGEiLCJuYXZNZW51Iiwib24iLCJzdWJtaXQiLCIkZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9sIiwicnVsZSIsIm1vZHVsZSIsImtleSIsImlkIiwiZGF0YS1pZCIsImRpcmVjdGl2ZXMiLCJuYW1lIiwicmF3TmFtZSIsInZhbHVlIiwicmVzdWx0IiwiZXhwcmVzc2lvbiIsInBsYWNlaG9sZGVyIiwiZG9tUHJvcHMiLCJpbnB1dCIsInRhcmdldCIsImNvbXBvc2luZyIsIiRzZXQiLCJwb3NpdGlvbiIsImdyb3VwIiwiX3MiLCJfZSIsInJlcGVhdCIsIm1hcF92YWx1ZSIsIml0ZW0iLCJtb2RlbCIsImNhbGxiYWNrIiwiJCR2Iiwib3B0aW9uIiwidiIsImxhYmVsIiwiZGVzYyIsInR5cGUiLCJpbWFnZSIsImNvbG9yIiwiY2xpY2siLCJvcGFjaXR5Iiwic3R5bGUiLCJ0b0xpbmsiLCJpbWFnZV9leHBsYWluIiwic3JjIiwiX3dpdGhTdHJpcHBlZCIsImpzX3JlcG9ydHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyIsImZvcm0iLCJkb20iLCJpbnMiLCJhamF4IiwicGVuZGluZyIsImFwaSIsImNhckFwaSIsIm1lbnUiLCJyZXBvcnQiLCJtaXhpbnMiLCJsb2FkaW5nIiwic3RhdGUiLCJtZW51U3dpdGNoIiwiY29uZmlybSIsIm1vdW50ZWQiLCJpbml0RG9tIiwiaW5pdFN0YXRpYyIsImluaXREeW5hbWljIiwiaW5pdEluc3RhbmNlIiwiaW5pdGlhbGl6ZSIsIm1ldGhvZHMiLCJsaXN0IiwiRyIsIiRyZWZzIiwicGFyYW0iLCJvcHRpb25TZXQiLCJjaGlsZHJlbiIsImdlbk1lbnUiLCJfdGhpcyIsImkiLCJjdXIiLCJsZW5ndGgiLCJwdXNoIiwiJG5leHRUaWNrIiwiaW5pdE1lbnVTd2l0Y2giLCJfdGhpczIiLCJQcm9taXNlIiwicmVzb2x2ZSIsInBlbmRpbmdTdGF0ZSIsInJlcyIsImNvZGUiLCJmb3JFYWNoIiwidjEiLCJ2MiIsImpzb25EZWNvZGUiLCJlTm90aWNlIiwidGhlbiIsImdldFJlcG9ydCIsInRvQ29uc3VtYWJsZUFycmF5X2RlZmF1bHQiLCJmaW5kIiwiX21vZHVsZSIsImlzQXJyYXkiLCJwb3NpdGlvbnMiLCJfcG9zaXRpb24iLCJpdGVtcyIsIl9pdGVtIiwiZmluYWxseSIsImluaXRpYWxTdGF0ZSIsImNoZWNrIiwic3RhdHVzIiwiZmllbGQiLCJtc2ciLCJfdGhpczMiLCIkaW5mbyIsImZpbHRlciIsImVycm9yIiwiY3JlYXRlT2JqZWN0IiwiZGVmaW5lUHJvcGVydHlfZGVmYXVsdCIsInZTY3JvbGwiLCJjb25zb2xlIiwibG9nIiwianNvbkVuY29kZSIsIm1vZGUiLCIkZXJyb3IiLCJzZXRBcmdzIiwiY29tcG9uZW50IiwiT2JqZWN0IiwiY29tcG9uZW50Tm9ybWFsaXplciIsIm9wdGlvbnMiLCJfX2ZpbGUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19nbG9iYWxfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibiIsImV4cG9ydHMiLCJvYmoiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImFycmF5V2l0aG91dEhvbGVzIiwiaXRlcmFibGVUb0FycmF5Iiwibm9uSXRlcmFibGVTcHJlYWQiLCJhcnIiLCJBcnJheSIsImFycjIiLCJpdGVyIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJmcm9tIiwiVHlwZUVycm9yIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19wdWJsaWNfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzFfaWRfNzVkZmRkMGFfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfbm9kZV9tb2R1bGVzX21pbmlfY3NzX2V4dHJhY3RfcGx1Z2luX2Rpc3RfbG9hZGVyX2pzX25vZGVfbW9kdWxlc19jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX3JlcG9ydF9jc3NfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMl9pZF83NWRmZGQwYV9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyJdLCJtYXBwaW5ncyI6ImlHQUFBLElBQUFBLEVBQUEsV0FDQSxJQUFBQyxFQUFBQyxLQUNBQyxFQUFBRixFQUFBRyxlQUNBQyxFQUFBSixFQUFBSyxNQUFBRCxJQUFBRixFQUNBLE9BQUFFLEVBQ0EsTUFDQSxDQUFLRSxZQUFBLG9CQUNMLENBQ0FGLEVBQUEsY0FBd0JHLE1BQUEsQ0FBU0MsU0FBQVIsRUFBQVEsU0FBQUMsSUFBQVQsRUFBQVMsT0FDakNULEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxPQUFpQkUsWUFBQSxrQkFBZ0MsQ0FDakRGLEVBQ0EsTUFDQSxDQUFXRSxZQUFBLE1BQ1gsQ0FDQUYsRUFBQSxpQkFDQU8sSUFBQSxjQUNBSixNQUFBLENBQXNCSyxLQUFBWixFQUFBYSxXQUV0QmIsRUFBQVUsR0FBQSxLQUNBTixFQUNBLE9BQ0EsQ0FDQVUsR0FBQSxDQUNBQyxPQUFBLFNBQUFDLEdBRUEsT0FEQUEsRUFBQUMsaUJBQ0FqQixFQUFBZSxPQUFBQyxNQUlBLENBQ0FaLEVBQ0EsTUFDQSxDQUFtQk8sSUFBQSxPQUFBTCxZQUFBLFFBQ25CTixFQUFBa0Is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OUQsT0FBZ0JGLElBQ2pFa0UsRUFBQWxFLEdBQUFnRSxFQUFBaEUsR0FHQSxPQUFBa0UsdUJDRkF4SSxFQUFBNkgsUUFKQSxTQUFBWSxHQUNBLEdBQUFDLE9BQUFDLFlBQUF0QixPQUFBb0IsSUFBQSx1QkFBQXBCLE9BQUF1QixVQUFBQyxTQUFBQyxLQUFBTCxHQUFBLE9BQUFGLE1BQUFRLEtBQUFOLHVCQ0dBekksRUFBQTZILFFBSkEsV0FDQSxVQUFBbUIsVUFBQSxrSUNEQSxJQUFBQyxFQUFBdEIsRUFBQSxLQUFBQSxFQUFBQyxFQUFBcUIsR0FBbVQsb0NDQW5ULElBQUFDLEVBQUF2QixFQUFBLEtBQUFBLEVBQUFDLEVBQUFzQixHQUFtVCIsImZpbGUiOiJqcy8zLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgc3RhdGljQ2xhc3M6IFwibW9kdWxlLWNvbnRhaW5lclwiIH0sXG4gICAgW1xuICAgICAgX2MoXCJtb2R1bGUtbmF2XCIsIHsgYXR0cnM6IHsgdG9wUm91dGU6IF92bS50b3BSb3V0ZSwgcG9zOiBfdm0ucG9zIH0gfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJtb2R1bGUtY29udGVudFwiIH0sIFtcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImluXCIgfSxcbiAgICAgICAgICBbXG4gICAgICAgICAgICBfYyhcInYtbWVudS1zd2l0Y2hcIiwge1xuICAgICAgICAgICAgICByZWY6IFwibWVudS1zd2l0Y2hcIixcbiAgICAgICAgICAgICAgYXR0cnM6IHsgZGF0YTogX3ZtLm5hdk1lbnUgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgIFwiZm9ybVwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc3VibWl0KCRldmVudClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICB7IHJlZjogXCJsaXN0XCIsIHN0YXRpY0NsYXNzOiBcImxpc3RcIiB9LFxuICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5ydWxlLCBmdW5jdGlvbihtb2R1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBtb2R1bGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJtb2R1bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiZGF0YS1pZFwiOiBtb2R1bGUuaWQgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJjb250ZW50XCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInRvcFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImxlZnRcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCLmqKHlnZfmo4DmtYvnu5PmnpxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwicmlnaHRcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInRleHRhcmVhXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1vZHVsZS5yZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIm1vZHVsZS5yZXN1bHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBtb2R1bGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dGFyZWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgcGxhY2Vob2xkZXI6IFwi6K+36L6T5YWl5qOA5rWL57uT5p6cLi4uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IG1vZHVsZS5yZXN1bHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlc3VsdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwiYnRtXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX2wobW9kdWxlLnBvc2l0aW9uLCBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogcG9zaXRpb24uaWQsIHN0YXRpY0NsYXNzOiBcIml0ZW1cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJwb3NcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5ncm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IF9jKFwic3BhblwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwi5L2N572u5YiG57uE77yaXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhwb3NpdGlvbi5ncm91cC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhcIsKgXCIucmVwZWF0KDgpKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLmo4DmtYvkvY3nva7vvJpcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ubWFwX3ZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcG9zaXRpb24ubmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIuOAkOaYoOWwhOWAvO+8mlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLm1hcF92YWx1ZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIuOAkVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcG9zaXRpb24ubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwibGlzdFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX2wocG9zaXRpb24uaXRlbSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogaXRlbS5pZCwgc3RhdGljQ2xhc3M6IFwibGluZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJuYW1lXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5tYXBfdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBpdGVtLm5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCLjgJDmmKDlsITlgLzvvJpcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm1hcF92YWx1ZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIuOAkVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXRlbS5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJ2YWx1ZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmFkaW9Hcm91cFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQkdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJpdGVtLnZhbHVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fbChpdGVtLm9wdGlvbiwgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSYWRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogdi5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBsYWJlbDogdi5rZXkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihfdm0uX3Modi52YWx1ZSkpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJkZXNjXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmRlc2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiaXRlbS5kZXNjXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIue7k+aenOaPj+i/sFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogaXRlbS5kZXNjIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuaW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInByZXZpZXdcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJmdW5jdGlvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgY29sb3I6IFwiYmx1ZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLm9wYWNpdHkgPSAwLjJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwi6YCP5piO5bqm77yaMjAlXCIpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgY29sb3I6IFwiYmx1ZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLm9wYWNpdHkgPSAwLjVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KFwi6YCP5piO5bqm77yaNTAlXCIpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidi1idXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgY29sb3I6IFwiYmx1ZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLm9wYWNpdHkgPSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihcIumAj+aYjuW6pu+8mjEwMCVcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiY29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwib3BhY2l0eTogXCIgKyBfdm0ub3BhY2l0eSArIFwiO1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0udG9MaW5rKG1vZHVsZS5pbWFnZV9leHBsYWluKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW1nXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBzcmM6IG1vZHVsZS5pbWFnZV9leHBsYWluIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKVxuICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHsgc3RhdGljQ2xhc3M6IFwic3VibWl0XCIgfSxcbiAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgXCJ2LWJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgIHsgYXR0cnM6IHsgY29sb3I6IFwic3VibWl0XCIsIHR5cGU6IFwic3VibWl0XCIgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCLmj5DkuqRcIildXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICApXG4gICAgICAgICAgXSxcbiAgICAgICAgICAxXG4gICAgICAgIClcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwidi1sb2FkaW5nXCIsIHsgcmVmOiBcImxvYWRpbmdcIiB9KVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0wIS4vcmVwb3J0LmpzP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTAhLi9yZXBvcnQuanM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBuYW1lOiAndi1yZXBvcnQnICxcclxuICAgIGRhdGEgKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGZvcm06IHt9ICxcclxuICAgICAgICAgICAgZG9tOiB7fSAsXHJcbiAgICAgICAgICAgIGluczoge30gLFxyXG4gICAgICAgICAgICBhamF4OiB7fSAsXHJcbiAgICAgICAgICAgIHBlbmRpbmc6IHt9ICxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHt9ICxcclxuICAgICAgICAgICAgdmFsdWU6IHt9ICxcclxuICAgICAgICAgICAgdHlwZTogJycgLFxyXG4gICAgICAgICAgICBhcGk6IGNhckFwaSAsXHJcbiAgICAgICAgICAgIG1lbnU6ICdvbmUnICxcclxuICAgICAgICAgICAgbmF2TWVudTogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnb25lJyAsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+mpvumptuezu+e7n+ajgOa1iycgLFxyXG4gICAgICAgICAgICAgICAgfSAsXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICd0d28nICxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAn5o6n5Yi257O757uf5qOA5rWLJyAsXHJcbiAgICAgICAgICAgICAgICB9ICxcclxuICAgICAgICAgICAgXSAsXHJcbiAgICAgICAgICAgIHJ1bGU6IFtdICxcclxuICAgICAgICAgICAgcmVwb3J0OiBbXSAsXHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDEgLFxyXG4gICAgICAgIH07XHJcbiAgICB9ICxcclxuICAgIG1peGluczogW1xyXG4gICAgICAgIC8vIOWKoOi9vVxyXG4gICAgICAgIG1peGlucy5sb2FkaW5nICxcclxuICAgICAgICAvLyDnirbmgIFcclxuICAgICAgICBtaXhpbnMuc3RhdGUgLFxyXG4gICAgICAgIC8vIOiPnOWNlVxyXG4gICAgICAgIG1peGlucy5mb3JtLm1lbnVTd2l0Y2ggLFxyXG4gICAgICAgIC8vIOehruWumlxyXG4gICAgICAgIG1peGlucy5mb3JtLmNvbmZpcm0gLFxyXG4gICAgXSAsXHJcbiAgICBtb3VudGVkICgpIHtcclxuICAgICAgICB0aGlzLmluaXREb20oKTtcclxuICAgICAgICB0aGlzLmluaXRTdGF0aWMoKTtcclxuICAgICAgICB0aGlzLmluaXREeW5hbWljKCk7XHJcbiAgICAgICAgdGhpcy5pbml0SW5zdGFuY2UoKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgIH0gLFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIGluaXREb20gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmRvbS5saXN0ID0gRyh0aGlzLiRyZWZzLmxpc3QpO1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBpbml0U3RhdGljICgpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JtLmlkID0gdGhpcy5wYXJhbS5pZDtcclxuICAgICAgICB9ICxcclxuXHJcbiAgICAgICAgaW5pdER5bmFtaWMgKCkge1xyXG4gICAgICAgICAgICB0aGlzLmRvbS5vcHRpb25TZXQgPSB0aGlzLmRvbS5saXN0LmNoaWxkcmVuKCk7XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIGluaXRJbnN0YW5jZSAoKSB7XHJcblxyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICAvLyDnlJ/miJAgbWVudVxyXG4gICAgICAgIGdlbk1lbnUgKCkge1xyXG4gICAgICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgIGxldCBjdXIgPSBudWxsO1xyXG4gICAgICAgICAgICBsZXQgbWVudSA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgY3VyTWVudSA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvciAoOyBpIDwgdGhpcy5ydWxlLmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjdXIgPSB0aGlzLnJ1bGVbaV07XHJcbiAgICAgICAgICAgICAgICBtZW51LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBjdXIuaWQgLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGN1ci5uYW1lICxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVudSA9IGN1ci5pZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm5hdk1lbnUgPSBtZW51O1xyXG4gICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRNZW51U3dpdGNoKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBpbml0aWFsaXplICgpIHtcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1N0YXRlKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgICAgICAvLyDojrflj5bop4TliJlcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBpLnJ1bGUoKHJlcyAsIGNvZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZU5vdGljZShyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXMuZm9yRWFjaCgodikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LnJlc3VsdCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LnBvc2l0aW9uLmZvckVhY2goKHYxKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2MS5pdGVtLmZvckVhY2goKHYyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIub3B0aW9uID0gRy5qc29uRGVjb2RlKHYyLm9wdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjIuZGVzYyA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucnVsZSA9IHJlcztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0RHluYW1pYygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbk1lbnUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGkuZ2V0UmVwb3J0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLnBhcmFtLmlkICxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSAsIChyZXMgLCBjb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSA0MDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lTm90aWNlKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0ID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJ1bGUgPSBbLi4udGhpcy5ydWxlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5kID0gKHZhbHVlICwga2V5ICwgbGlzdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXIgPSBsaXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyW2tleV0gPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG9kbyDnqI3kvZzlpITnkIZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUuZm9yRWFjaCgobW9kdWxlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9tb2R1bGUgPSBmaW5kKG1vZHVsZS5pZCAsICdkZXRlY3Rpb25fbW9kdWxlX2lkJyAsIHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb2R1bGUgPSBfbW9kdWxlID8gX21vZHVsZSA6IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5yZXN1bHQgPSBfbW9kdWxlLnJlc3VsdCA/IF9tb2R1bGUucmVzdWx0IDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFHLmlzQXJyYXkobW9kdWxlLnBvc2l0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUucG9zaXRpb24uZm9yRWFjaCgocG9zaXRpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb25zID0gX21vZHVsZS5wb3NpdGlvbiA/IF9tb2R1bGUucG9zaXRpb24gOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9wb3NpdGlvbiA9IGZpbmQocG9zaXRpb24uaWQgLCAnZGV0ZWN0aW9uX3Bvc19pZCcgLCBwb3NpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Bvc2l0aW9uID0gX3Bvc2l0aW9uID8gX3Bvc2l0aW9uIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghRy5pc0FycmF5KHBvc2l0aW9uLml0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLml0ZW0uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBfcG9zaXRpb24uaXRlbSA/IF9wb3NpdGlvbi5pdGVtIDogW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX2l0ZW0gPSBmaW5kKGl0ZW0uaWQgLCAnZGV0ZWN0aW9uX2l0ZW1faWQnICwgaXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtID0gX2l0ZW0gPyBfaXRlbSA6IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS52YWx1ZSA9IF9pdGVtLnZhbHVlID8gX2l0ZW0udmFsdWUgOiBpdGVtLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kZXNjID0gX2l0ZW0uZGVzYyA/IF9pdGVtLmRlc2MgOiBpdGVtLmRlc2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bGUgPSBydWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlKCdsb2FkaW5nJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBjaGVjayAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHRydWUgLFxyXG4gICAgICAgICAgICAgICAgZmllbGQ6ICcnICxcclxuICAgICAgICAgICAgICAgIG1zZzogJycgLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBzdWJtaXQgKCkge1xyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZy5zdWJtaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRpbmZvKCfor7fmsYLkuK0uLi7or7fogJDlv4PnrYnlvoUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlciA9IHRoaXMuY2hlY2soKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmlsdGVyLnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBHLmNyZWF0ZU9iamVjdCh0aGlzLmVycm9yICwge1tmaWx0ZXIuZmllbGRdOiBmaWx0ZXIubXNnfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52U2Nyb2xsKGZpbHRlci5maWVsZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucnVsZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucmVwb3J0ID0gRy5qc29uRW5jb2RlKHRoaXMucnVsZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0ZSgnbG9hZGluZycgLCAnc3VibWl0Jyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFqYXguc3VibWl0ID0gdGhpcy5hcGlbdGhpcy5wYXJhbS5tb2RlXSh0aGlzLmZvcm0gLCAocmVzICwgY29kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29kZSAhPSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUoJ2xvYWRpbmcnICwgJ3N1Ym1pdCcgLCAnc3VibWl0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVycm9yKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnMubG9hZGluZy5zZXRBcmdzKHRoaXMuYWpheC5zdWJtaXQgLCAnc3VibWl0Jyk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maXJtKCfovabovobliJfooagnICwgJy9jYXIvbGlzdCcpO1xyXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlKCdsb2FkaW5nJyAsICdzdWJtaXQnICwgJ3N1Ym1pdCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9ICxcclxuICAgIH0gLFxyXG59OyIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vcmVwb3J0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03NWRmZGQwYSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9qcy9yZXBvcnQuanM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2pzL3JlcG9ydC5qcz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi4vcHVibGljL2Nzcy9nbG9iYWwuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmbGFuZz1jc3MmXCJcbmltcG9ydCBzdHlsZTEgZnJvbSBcIi4uL3B1YmxpYy9jc3MvcHVibGljLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTc1ZGZkZDBhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiXG5pbXBvcnQgc3R5bGUyIGZyb20gXCIuL2Nzcy9yZXBvcnQuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTImaWQ9NzVkZmRkMGEmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjc1ZGZkZDBhXCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiRDpcXFxcd29ya1xcXFxjb2RlXFxcXGNhclxcXFxwdWJsaWNcXFxcbW9kdWxlXFxcXGFkbWluXFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghbW9kdWxlLmhvdC5kYXRhKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCc3NWRmZGQwYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCc3NWRmZGQwYScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vcmVwb3J0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03NWRmZGQwYSZzY29wZWQ9dHJ1ZSZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgYXBpLnJlcmVuZGVyKCc3NWRmZGQwYScsIHtcbiAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGljUmVuZGVyRm5zXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbmNvbXBvbmVudC5vcHRpb25zLl9fZmlsZSA9IFwic291cmNlL3Z1ZS92aWV3L2Nhci9yZXBvcnQudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL2dsb2JhbC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL2dsb2JhbC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcclxuICBpZiAoa2V5IGluIG9iaikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XHJcbiAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxyXG4gICAgICB3cml0YWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIG9ialtrZXldID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IF9kZWZpbmVQcm9wZXJ0eTsiLCJ2YXIgYXJyYXlXaXRob3V0SG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhvdXRIb2xlc1wiKTtcclxuXHJcbnZhciBpdGVyYWJsZVRvQXJyYXkgPSByZXF1aXJlKFwiLi9pdGVyYWJsZVRvQXJyYXlcIik7XHJcblxyXG52YXIgbm9uSXRlcmFibGVTcHJlYWQgPSByZXF1aXJlKFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiKTtcclxuXHJcbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcclxuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCBub25JdGVyYWJsZVNwcmVhZCgpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IF90b0NvbnN1bWFibGVBcnJheTsiLCJmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgYXJyMltpXSA9IGFycltpXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXJyMjtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gX2FycmF5V2l0aG91dEhvbGVzOyIsImZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xyXG4gIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIikgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gX2l0ZXJhYmxlVG9BcnJheTsiLCJmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XHJcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVNwcmVhZDsiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vcHVibGljLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTc1ZGZkZDBhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vcHVibGljLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0xJmlkPTc1ZGZkZDBhJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL3JlcG9ydC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MiZpZD03NWRmZGQwYSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL3JlcG9ydC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MiZpZD03NWRmZGQwYSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIiJdLCJzb3VyY2VSb290IjoiIn0=