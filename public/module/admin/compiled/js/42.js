(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{391:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"module-container"},[i("module-nav",{attrs:{topRoute:t.topRoute,pos:t.pos}}),t._v(" "),i("div",{staticClass:"module-content"},[i("div",{staticClass:"in"},[i("form",{on:{submit:function(s){return s.preventDefault(),t.submit(s)}}},[i("table",{staticClass:"input-tb"},[i("tbody",[i("tr",{class:t.getClass(t.error.title),attrs:{id:"title"}},[i("td",[t._v("标题")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(s){s.target.composing||t.$set(t.form,"title",s.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"},[t._v("例如：2016 Nissan Quest")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.title))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.username),attrs:{id:"username"}},[i("td",[t._v("用户名称")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-text",attrs:{type:"text"},domProps:{value:t.form.username},on:{input:function(s){s.target.composing||t.$set(t.form,"username",s.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"},[t._v("例如：陈先生")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.username))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.logo_explain),attrs:{id:"logo"}},[i("td",[t._v("图片")]),t._v(" "),i("td",{ref:"image-container"},[i("div",{staticClass:"upload-image"},[t._m(0),t._v(" "),i("div",{staticClass:"init-show-image-list"},["edit"==t.param.mode&&t.form.image_explain?i("img",{staticClass:"init-show-image",attrs:{src:t.form.image_explain}}):t._e()]),t._v(" "),i("div",{staticClass:"preview-images hide"}),t._v(" "),t._m(1)]),t._v(" "),i("span",{staticClass:"tip"}),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.image))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.content),attrs:{id:"content"}},[i("td",[t._v("内容")]),t._v(" "),i("td",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.content,expression:"form.content"}],staticClass:"form-textarea",domProps:{value:t.form.content},on:{input:function(s){s.target.composing||t.$set(t.form,"content",s.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"}),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.letter))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.score),attrs:{id:"score"}},[i("td",[t._v("分数")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.score,expression:"form.score"}],staticClass:"form-text",attrs:{type:"number",step:"0.01"},domProps:{value:t.form.score},on:{input:function(s){s.target.composing||t.$set(t.form,"score",s.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"},[t._v("例如：9，最多允许两位小数")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.score))])])]),t._v(" "),i("tr",{class:t.getClass(t.error.hidden),attrs:{id:"hidden"}},[i("td",[t._v("隐藏？")]),t._v(" "),i("td",[i("RadioGroup",{model:{value:t.form.hidden,callback:function(s){t.$set(t.form,"hidden",s)},expression:"form.hidden"}},t._l(t.$store.state.business.bool_str,function(s,e){return i("Radio",{key:e,attrs:{label:e}},[t._v(t._s(s))])}),1),t._v(" "),i("span",{staticClass:"necessary"},[t._v("*")]),t._v(" "),i("span",{staticClass:"tip"},[t._v("默认：否")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.hidden))])],1)]),t._v(" "),i("tr",{class:t.getClass(t.error.weight),attrs:{id:"weight"}},[i("td",[t._v("权重")]),t._v(" "),i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.weight,expression:"form.weight"}],staticClass:"form-text",attrs:{type:"number",step:"0"},domProps:{value:t.form.weight},on:{input:function(s){s.target.composing||t.$set(t.form,"weight",s.target.value)}}}),t._v(" "),i("span",{staticClass:"necessary"}),t._v(" "),i("span",{staticClass:"tip"},[t._v("默认：0，仅允许输入整数")]),t._v(" "),i("span",{staticClass:"msg"},[t._v(t._s(t.error.weight))])])]),t._v(" "),t._m(2)])])])])]),t._v(" "),i("v-loading",{ref:"loading"})],1)};e._withStripped=!0;var a={name:"v-brand",data:function(){return{form:{hidden:"n",weight:0,score:0},error:{},ajax:{get:null,submit:null},dom:{},ins:{loading:null,image:null},pending:{submit:null},data:{},callback:{image:null},api:storyApi,image:{}}},created:function(){},mounted:function(){this.initDom(),this.initInstance(),this.getData()},mixins:[mixins.state,mixins.loading,mixins.form.image,mixins.form.get,mixins.form.confirm],methods:{initDom:function(){},initInstance:function(){},check:function(t){return{status:!0,field:"",msg:""}},submit:function(){var t=this;new Promise(function(s){if(t.pending.submit)t.$info("请求中...请耐心等待");else{var i=t.check();if(!i.status)return t.error[i.field]=i.msg,void vScroll(i.field);t.pending.submit=!0,t.ins.loading.show(),t.ajax.submit=t.api[t.param.mode](t.form,function(i,e){if(t.error={},200!=e)return t.initialState("loading","submit","submit"),400==e?(t.error=i,void vScroll(G.firstKey(i))):void t.$error(i);t.form.id=i,s()}),t.ins.loading.setArgs(t.ajax.submit,"submit")}}).then(function(){return new Promise(function(s){t.ins.image.empty()?s(!1):(t.callback.image=function(i,e){if(200!=e)return t.eNotice(i),void s(!1);t.image=i,s(!0)},t.ins.image.upload())})}).then(function(s){return new Promise(function(i){s?t.api.image({id:t.form.id,image:t.image.url},function(s,e){i(),200==e||t.eNotice(s)}):i(!0)})}).then(function(){t.confirm("故事列表","/story/list")}).finally(function(){t.initialState("loading","submit","submit")})}}},n=(i(393),i(673),i(674),i(14)),r=Object(n.a)(a,e,[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"select-images"},[s("div",{staticClass:"upload-show"},[s("div",{staticClass:"image-line"},[s("img",{staticClass:"image upload-image-btn",attrs:{src:""}}),s("span",{staticClass:"selected-count hide"},[this._v("10")])]),this._v(" "),s("div",{staticClass:"text-line"},[this._v("请选择要上传的图片")]),this._v(" "),s("div",{staticClass:"clear-selected",attrs:{title:"清空已选择的图片"}},[s("img",{staticClass:"image",attrs:{src:""}})]),this._v(" "),s("input",{staticClass:"upload-images-input",attrs:{type:"file",name:"upload_images"}})]),this._v(" "),s("div",{staticClass:"tip"})])},function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"upload-image-list hide"},[i("div",{staticClass:"upload-title"},[t._v("待上传列表")]),t._v(" "),i("div",{staticClass:"image-list"},[i("div",{staticClass:"list-content list-title"},[i("div",{staticClass:"item div-preview"},[t._v("图片预览")]),t._v(" "),i("div",{staticClass:"item div-type"},[t._v("类型")]),t._v(" "),i("div",{staticClass:"item div-size"},[t._v("大小")]),t._v(" "),i("div",{staticClass:"item div-speed"},[t._v("速度")]),t._v(" "),i("div",{staticClass:"item div-status"},[t._v("状态")]),t._v(" "),i("div",{staticClass:"item div-opr"},[t._v("操作")])]),t._v(" "),i("div",{staticClass:"list-content list-body"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("tr",[s("td",{attrs:{colspan:"2"}},[s("button",{staticClass:"run-button run-button-submit",attrs:{type:"submit"}},[this._v("提交")])])])}],!1,null,"00977a29",null);r.options.__file="source/vue/view/story/thing.vue";s.default=r.exports},392:function(t,s,i){},393:function(t,s,i){"use strict";var e=i(392);i.n(e).a},528:function(t,s,i){},529:function(t,s,i){},673:function(t,s,i){"use strict";var e=i(528);i.n(e).a},674:function(t,s,i){"use strict";var e=i(529);i.n(e).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvc3RvcnkvdGhpbmcudnVlP2M3OTciLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3Z1ZS92aWV3L3N0b3J5L2pzL3RoaW5nLmpzIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9zdG9yeS9qcy90aGluZy5qcz9lNWZhIiwid2VicGFjazovLy8uL3NvdXJjZS92dWUvdmlldy9zdG9yeS90aGluZy52dWUiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3Z1ZS92aWV3L3B1YmxpYy9jc3MvZ2xvYmFsLmNzcyIsIndlYnBhY2s6Ly8vLi9zb3VyY2UvdnVlL3ZpZXcvcHVibGljL2Nzcy9wdWJsaWMuY3NzPzZkNTkiLCJ3ZWJwYWNrOi8vLy4vc291cmNlL3Z1ZS92aWV3L3N0b3J5L2Nzcy90aGluZy5jc3MiXSwibmFtZXMiOlsicmVuZGVyIiwiX3ZtIiwidGhpcyIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwic3RhdGljQ2xhc3MiLCJhdHRycyIsInRvcFJvdXRlIiwicG9zIiwiX3YiLCJvbiIsInN1Ym1pdCIsIiRldmVudCIsInByZXZlbnREZWZhdWx0IiwiY2xhc3MiLCJnZXRDbGFzcyIsImVycm9yIiwidGl0bGUiLCJpZCIsImRpcmVjdGl2ZXMiLCJuYW1lIiwicmF3TmFtZSIsInZhbHVlIiwiZm9ybSIsImV4cHJlc3Npb24iLCJ0eXBlIiwiZG9tUHJvcHMiLCJpbnB1dCIsInRhcmdldCIsImNvbXBvc2luZyIsIiRzZXQiLCJfcyIsInVzZXJuYW1lIiwibG9nb19leHBsYWluIiwicmVmIiwiX20iLCJwYXJhbSIsIm1vZGUiLCJpbWFnZV9leHBsYWluIiwic3JjIiwiX2UiLCJpbWFnZSIsImNvbnRlbnQiLCJsZXR0ZXIiLCJzY29yZSIsInN0ZXAiLCJoaWRkZW4iLCJtb2RlbCIsImNhbGxiYWNrIiwiJCR2IiwiX2wiLCIkc3RvcmUiLCJzdGF0ZSIsImJ1c2luZXNzIiwiYm9vbF9zdHIiLCJ2IiwiayIsImtleSIsImxhYmVsIiwid2VpZ2h0IiwiX3dpdGhTdHJpcHBlZCIsImpzX3RoaW5ndnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfIiwiZGF0YSIsImFqYXgiLCJnZXQiLCJkb20iLCJpbnMiLCJsb2FkaW5nIiwicGVuZGluZyIsImFwaSIsInN0b3J5QXBpIiwiY3JlYXRlZCIsIm1vdW50ZWQiLCJpbml0RG9tIiwiaW5pdEluc3RhbmNlIiwiZ2V0RGF0YSIsIm1peGlucyIsImNvbmZpcm0iLCJtZXRob2RzIiwiY2hlY2siLCJzdGF0dXMiLCJmaWVsZCIsIm1zZyIsIl90aGlzIiwiUHJvbWlzZSIsInJlc29sdmUiLCIkaW5mbyIsImZpbHRlciIsInZTY3JvbGwiLCJzaG93IiwicmVzIiwiY29kZSIsImluaXRpYWxTdGF0ZSIsIkciLCJmaXJzdEtleSIsIiRlcnJvciIsInNldEFyZ3MiLCJ0aGVuIiwiZW1wdHkiLCJlTm90aWNlIiwidXBsb2FkIiwibmV4dCIsInVybCIsImZpbmFsbHkiLCJjb21wb25lbnQiLCJPYmplY3QiLCJjb21wb25lbnROb3JtYWxpemVyIiwiY29sc3BhbiIsIm9wdGlvbnMiLCJfX2ZpbGUiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19nbG9iYWxfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibiIsIl9ub2RlX21vZHVsZXNfbWluaV9jc3NfZXh0cmFjdF9wbHVnaW5fZGlzdF9sb2FkZXJfanNfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzFfMV9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfbG9hZGVyc19zdHlsZVBvc3RMb2FkZXJfanNfcHVibGljX2Nzc192dWVfdHlwZV9zdHlsZV9pbmRleF8xX2lkXzAwOTc3YTI5X3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiX25vZGVfbW9kdWxlc19taW5pX2Nzc19leHRyYWN0X3BsdWdpbl9kaXN0X2xvYWRlcl9qc19ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc190aGluZ19jc3NfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMl9pZF8wMDk3N2EyOV9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyJdLCJtYXBwaW5ncyI6ImtHQUFBLElBQUFBLEVBQUEsV0FDQSxJQUFBQyxFQUFBQyxLQUNBQyxFQUFBRixFQUFBRyxlQUNBQyxFQUFBSixFQUFBSyxNQUFBRCxJQUFBRixFQUNBLE9BQUFFLEVBQ0EsTUFDQSxDQUFLRSxZQUFBLG9CQUNMLENBQ0FGLEVBQUEsY0FBd0JHLE1BQUEsQ0FBU0MsU0FBQVIsRUFBQVEsU0FBQUMsSUFBQVQsRUFBQVMsT0FDakNULEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxPQUFpQkUsWUFBQSxrQkFBZ0MsQ0FDakRGLEVBQUEsT0FBbUJFLFlBQUEsTUFBb0IsQ0FDdkNGLEVBQ0EsT0FDQSxDQUNBTyxHQUFBLENBQ0FDLE9BQUEsU0FBQUMsR0FFQSxPQURBQSxFQUFBQyxpQkFDQWQsRUFBQVksT0FBQUMsTUFJQSxDQUNBVCxFQUFBLFNBQTJCRSxZQUFBLFlBQTBCLENBQ3JERixFQUFBLFNBQ0FBLEVBQ0EsS0FDQSxDQUNBVyxNQUFBZixFQUFBZ0IsU0FBQWhCLEVBQUFpQixNQUFBQyxPQUNBWCxNQUFBLENBQThCWSxHQUFBLFVBRTlCLENBQ0FmLEVBQUEsTUFBQUosRUFBQVUsR0FBQSxR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LEVBQUEsT0FBcUJFLFlBQUEsbUJBQWlDLENBQUFOLEVBQUFVLEdBQUEsUUFDdERWLEVBQUFVLEdBQUEsS0FDQU4sRUFBQSxPQUFxQkUsWUFBQSxnQkFBOEIsQ0FBQU4sRUFBQVUsR0FBQSxVQUVuRFYsRUFBQVUsR0FBQSxLQUNBTixFQUFBLE9BQW1CRSxZQUFBLGdDQUluQixXQUNBLElBQ0FKLEVBREFELEtBQ0FFLGVBQ0FDLEVBRkFILEtBRUFJLE1BQUFELElBQUFGLEVBQ0EsT0FBQUUsRUFBQSxNQUNBQSxFQUFBLE1BQWdCRyxNQUFBLENBQVNxRyxRQUFBLE1BQWlCLENBQzFDeEcsRUFDQSxTQUNBLENBQ0FFLFlBQUEsK0JBQ0FDLE1BQUEsQ0FBb0JtQixLQUFBLFdBRXBCLENBWEF6QixLQVdBUyxHQUFBLGVHNVpBLEVBQ0EsS0FDQSxXQUNBLE1BdUJBK0YsRUFBQUksUUFBQUMsT0FBQSxrQ0FDZUMsRUFBQSxRQUFBTixrRUN6Q2YsSUFBQU8sRUFBQUMsRUFBQSxLQUFBQSxFQUFBQyxFQUFBRixHQUEyUixnRkNBM1IsSUFBQUcsRUFBQUYsRUFBQSxLQUFBQSxFQUFBQyxFQUFBQyxHQUFtVCxvQ0NBblQsSUFBQUMsRUFBQUgsRUFBQSxLQUFBQSxFQUFBQyxFQUFBRSxHQUFrVCIsImZpbGUiOiJqcy80Mi5qcz92ZXJzaW9uPTEuMC4wIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfYyhcbiAgICBcImRpdlwiLFxuICAgIHsgc3RhdGljQ2xhc3M6IFwibW9kdWxlLWNvbnRhaW5lclwiIH0sXG4gICAgW1xuICAgICAgX2MoXCJtb2R1bGUtbmF2XCIsIHsgYXR0cnM6IHsgdG9wUm91dGU6IF92bS50b3BSb3V0ZSwgcG9zOiBfdm0ucG9zIH0gfSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJtb2R1bGUtY29udGVudFwiIH0sIFtcbiAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJpblwiIH0sIFtcbiAgICAgICAgICBfYyhcbiAgICAgICAgICAgIFwiZm9ybVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zdWJtaXQoJGV2ZW50KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgX2MoXCJ0YWJsZVwiLCB7IHN0YXRpY0NsYXNzOiBcImlucHV0LXRiXCIgfSwgW1xuICAgICAgICAgICAgICAgIF9jKFwidGJvZHlcIiwgW1xuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwidHJcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBfdm0uZ2V0Q2xhc3MoX3ZtLmVycm9yLnRpdGxlKSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpZDogXCJ0aXRsZVwiIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW192bS5fdihcIuagh+mimFwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcImlucHV0XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwibW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhd05hbWU6IFwidi1tb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogXCJmb3JtLnRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInRleHRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmZvcm0udGl0bGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZm9ybSwgXCJ0aXRsZVwiLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibmVjZXNzYXJ5XCIgfSwgW192bS5fdihcIipcIildKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJ0aXBcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIuS+i+Wmgu+8mjIwMTYgTmlzc2FuIFF1ZXN0XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJtc2dcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLnRpdGxlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDbGFzcyhfdm0uZXJyb3IudXNlcm5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInVzZXJuYW1lXCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi55So5oi35ZCN56ewXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm0udXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm0udXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS10ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwidGV4dFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybS51c2VybmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uZm9ybSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbX3ZtLl92KFwiKlwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwi5L6L5aaC77ya6ZmI5YWI55SfXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJtc2dcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLnVzZXJuYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDbGFzcyhfdm0uZXJyb3IubG9nb19leHBsYWluKSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpZDogXCJsb2dvXCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi5Zu+54mHXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIHsgcmVmOiBcImltYWdlLWNvbnRhaW5lclwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidXBsb2FkLWltYWdlXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX20oMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaW5pdC1zaG93LWltYWdlLWxpc3RcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnBhcmFtLm1vZGUgPT0gXCJlZGl0XCIgJiYgX3ZtLmZvcm0uaW1hZ2VfZXhwbGFpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYyhcImltZ1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaW5pdC1zaG93LWltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgc3JjOiBfdm0uZm9ybS5pbWFnZV9leHBsYWluIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwicHJldmlldy1pbWFnZXMgaGlkZVwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX20oMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IuaW1hZ2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICBcInRyXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzczogX3ZtLmdldENsYXNzKF92bS5lcnJvci5jb250ZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpZDogXCJjb250ZW50XCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi5YaF5a65XCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGV4dGFyZWFcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm0uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybS5jb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dGFyZWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5mb3JtLmNvbnRlbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0uZm9ybSwgXCJjb250ZW50XCIsICRldmVudC50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbX3ZtLl92KFwiKlwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3IubGV0dGVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDbGFzcyhfdm0uZXJyb3Iuc2NvcmUpLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IGlkOiBcInNjb3JlXCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi5YiG5pWwXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLmZvcm0uc2NvcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm0uc2NvcmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS10ZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwibnVtYmVyXCIsIHN0ZXA6IFwiMC4wMVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7IHZhbHVlOiBfdm0uZm9ybS5zY29yZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNvbXBvc2luZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtLCBcInNjb3JlXCIsICRldmVudC50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbX3ZtLl92KFwiKlwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwi5L6L5aaC77yaOe+8jOacgOWkmuWFgeiuuOS4pOS9jeWwj+aVsFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibXNnXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKF92bS5lcnJvci5zY29yZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgIFwidHJcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiBfdm0uZ2V0Q2xhc3MoX3ZtLmVycm9yLmhpZGRlbiksXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWQ6IFwiaGlkZGVuXCIgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbX3ZtLl92KFwi6ZqQ6JeP77yfXCIpXSksXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSYWRpb0dyb3VwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF92bS5mb3JtLmhpZGRlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KF92bS5mb3JtLCBcImhpZGRlblwiLCAkJHYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwiZm9ybS5oaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS4kc3RvcmUuc3RhdGUuYnVzaW5lc3MuYm9vbF9zdHIsIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSYWRpb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGtleTogaywgYXR0cnM6IHsgbGFiZWw6IGsgfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KF92bS5fcyh2KSldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiKlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwidGlwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIum7mOiupO+8muWQplwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibXNnXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoX3ZtLmVycm9yLmhpZGRlbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IF92bS5nZXRDbGFzcyhfdm0uZXJyb3Iud2VpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBpZDogXCJ3ZWlnaHRcIiB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtfdm0uX3YoXCLmnYPph41cIildKSxcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIm1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uZm9ybS53ZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImZvcm0ud2VpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImZvcm0tdGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcIm51bWJlclwiLCBzdGVwOiBcIjBcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLmZvcm0ud2VpZ2h0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiRzZXQoX3ZtLmZvcm0sIFwid2VpZ2h0XCIsICRldmVudC50YXJnZXQudmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJuZWNlc3NhcnlcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJ0aXBcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIum7mOiupO+8mjDvvIzku4XlhYHorrjovpPlhaXmlbTmlbBcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcIm1zZ1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KF92bS5fcyhfdm0uZXJyb3Iud2VpZ2h0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfdm0uX20oMilcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXVxuICAgICAgICAgIClcbiAgICAgICAgXSlcbiAgICAgIF0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwidi1sb2FkaW5nXCIsIHsgcmVmOiBcImxvYWRpbmdcIiB9KVxuICAgIF0sXG4gICAgMVxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW1xuICBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3ZtID0gdGhpc1xuICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICAgIHJldHVybiBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInNlbGVjdC1pbWFnZXNcIiB9LCBbXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInVwbG9hZC1zaG93XCIgfSwgW1xuICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImltYWdlLWxpbmVcIiB9LCBbXG4gICAgICAgICAgX2MoXCJpbWdcIiwge1xuICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiaW1hZ2UgdXBsb2FkLWltYWdlLWJ0blwiLFxuICAgICAgICAgICAgYXR0cnM6IHsgc3JjOiBcIlwiIH1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJzZWxlY3RlZC1jb3VudCBoaWRlXCIgfSwgW192bS5fdihcIjEwXCIpXSlcbiAgICAgICAgXSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwidGV4dC1saW5lXCIgfSwgW192bS5fdihcIuivt+mAieaLqeimgeS4iuS8oOeahOWbvueJh1wiKV0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImNsZWFyLXNlbGVjdGVkXCIsXG4gICAgICAgICAgICBhdHRyczogeyB0aXRsZTogXCLmuIXnqbrlt7LpgInmi6nnmoTlm77niYdcIiB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBbX2MoXCJpbWdcIiwgeyBzdGF0aWNDbGFzczogXCJpbWFnZVwiLCBhdHRyczogeyBzcmM6IFwiXCIgfSB9KV1cbiAgICAgICAgKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgc3RhdGljQ2xhc3M6IFwidXBsb2FkLWltYWdlcy1pbnB1dFwiLFxuICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiZmlsZVwiLCBuYW1lOiBcInVwbG9hZF9pbWFnZXNcIiB9XG4gICAgICAgIH0pXG4gICAgICBdKSxcbiAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcInRpcFwiIH0pXG4gICAgXSlcbiAgfSxcbiAgZnVuY3Rpb24oKSB7XG4gICAgdmFyIF92bSA9IHRoaXNcbiAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgICByZXR1cm4gX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJ1cGxvYWQtaW1hZ2UtbGlzdCBoaWRlXCIgfSwgW1xuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJ1cGxvYWQtdGl0bGVcIiB9LCBbX3ZtLl92KFwi5b6F5LiK5Lyg5YiX6KGoXCIpXSksXG4gICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJpbWFnZS1saXN0XCIgfSwgW1xuICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImxpc3QtY29udGVudCBsaXN0LXRpdGxlXCIgfSwgW1xuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtcHJldmlld1wiIH0sIFtfdm0uX3YoXCLlm77niYfpooTop4hcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtdHlwZVwiIH0sIFtfdm0uX3YoXCLnsbvlnotcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtc2l6ZVwiIH0sIFtfdm0uX3YoXCLlpKflsI9cIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtc3BlZWRcIiB9LCBbX3ZtLl92KFwi6YCf5bqmXCIpXSksXG4gICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcIml0ZW0gZGl2LXN0YXR1c1wiIH0sIFtfdm0uX3YoXCLnirbmgIFcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiaXRlbSBkaXYtb3ByXCIgfSwgW192bS5fdihcIuaTjeS9nFwiKV0pXG4gICAgICAgIF0pLFxuICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImxpc3QtY29udGVudCBsaXN0LWJvZHlcIiB9KVxuICAgICAgXSlcbiAgICBdKVxuICB9LFxuICBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3ZtID0gdGhpc1xuICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaFxuICAgIHJldHVybiBfYyhcInRyXCIsIFtcbiAgICAgIF9jKFwidGRcIiwgeyBhdHRyczogeyBjb2xzcGFuOiBcIjJcIiB9IH0sIFtcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdGF0aWNDbGFzczogXCJydW4tYnV0dG9uIHJ1bi1idXR0b24tc3VibWl0XCIsXG4gICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcInN1Ym1pdFwiIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFtfdm0uX3YoXCLmj5DkuqRcIildXG4gICAgICAgIClcbiAgICAgIF0pXG4gICAgXSlcbiAgfVxuXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBuYW1lOiBcInYtYnJhbmRcIiAsXHJcbiAgICBkYXRhICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmb3JtOiB7XHJcbiAgICAgICAgICAgICAgICBoaWRkZW46ICduJyAsXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IDAgLFxyXG4gICAgICAgICAgICAgICAgc2NvcmU6IDAgLFxyXG4gICAgICAgICAgICB9ICxcclxuICAgICAgICAgICAgZXJyb3I6IHt9ICxcclxuICAgICAgICAgICAgYWpheDoge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBudWxsICxcclxuICAgICAgICAgICAgICAgIHN1Ym1pdDogbnVsbCAsXHJcbiAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICBkb206IHt9ICxcclxuICAgICAgICAgICAgaW5zOiB7XHJcbiAgICAgICAgICAgICAgICBsb2FkaW5nOiBudWxsICxcclxuICAgICAgICAgICAgICAgIGltYWdlOiBudWxsICxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGVuZGluZzoge1xyXG4gICAgICAgICAgICAgICAgc3VibWl0OiBudWxsICxcclxuICAgICAgICAgICAgfSAsXHJcbiAgICAgICAgICAgIGRhdGE6IHt9ICxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHtcclxuICAgICAgICAgICAgICAgIGltYWdlOiBudWxsXHJcbiAgICAgICAgICAgIH0gLFxyXG4gICAgICAgICAgICBhcGk6IHN0b3J5QXBpICxcclxuICAgICAgICAgICAgLy8g5Zu+54mHXHJcbiAgICAgICAgICAgIGltYWdlOiB7XHJcblxyXG4gICAgICAgICAgICB9ICxcclxuICAgICAgICB9O1xyXG4gICAgfSAsXHJcbiAgICBjcmVhdGVkICgpIHtcclxuXHJcbiAgICB9ICxcclxuICAgIG1vdW50ZWQgKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdERvbSgpO1xyXG4gICAgICAgIHRoaXMuaW5pdEluc3RhbmNlKCk7XHJcbiAgICAgICAgdGhpcy5nZXREYXRhKCk7XHJcbiAgICB9ICxcclxuICAgIG1peGluczogW1xyXG4gICAgICAgIG1peGlucy5zdGF0ZSAsXHJcbiAgICAgICAgbWl4aW5zLmxvYWRpbmcgLFxyXG4gICAgICAgIG1peGlucy5mb3JtLmltYWdlICxcclxuICAgICAgICBtaXhpbnMuZm9ybS5nZXQgLFxyXG4gICAgICAgIG1peGlucy5mb3JtLmNvbmZpcm0gLFxyXG4gICAgXSAsXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgaW5pdERvbSAoKSB7XHJcblxyXG4gICAgICAgIH0gLFxyXG5cclxuICAgICAgICBpbml0SW5zdGFuY2UgKCkge1xyXG5cclxuICAgICAgICB9ICxcclxuXHJcbiAgICAgICAgLy8g6I635Y+W5pWw5o2uXHJcbiAgICAgICAgY2hlY2sgKGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSAsXHJcbiAgICAgICAgICAgICAgICBmaWVsZDogJycgLFxyXG4gICAgICAgICAgICAgICAgbXNnOiAnJyAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSAsXHJcblxyXG4gICAgICAgIHN1Ym1pdCAoKSB7XHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDkuIrkvKDln7rmnKzmlbDmja5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmcuc3VibWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaW5mbygn6K+35rGC5LitLi4u6K+36ICQ5b+D562J5b6FJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXIgPSB0aGlzLmNoZWNrKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlci5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yW2ZpbHRlci5maWVsZF0gPSBmaWx0ZXIubXNnO1xyXG4gICAgICAgICAgICAgICAgICAgIHZTY3JvbGwoZmlsdGVyLmZpZWxkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nLnN1Ym1pdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNob3coKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWpheC5zdWJtaXQgPSB0aGlzLmFwaVt0aGlzLnBhcmFtLm1vZGVdKHRoaXMuZm9ybSAsIChyZXMgLCBjb2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZSgnbG9hZGluZycgLCAnc3VibWl0JyAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gNDAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdlNjcm9sbChHLmZpcnN0S2V5KHJlcykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlcnJvcihyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0uaWQgPSByZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucy5sb2FkaW5nLnNldEFyZ3ModGhpcy5hamF4LnN1Ym1pdCAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDkuIrkvKDlm77niYdcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucy5pbWFnZS5lbXB0eSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrLmltYWdlID0gKHJlcyAsIGNvZGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgIT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVOb3RpY2UocmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnMuaW1hZ2UudXBsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkudGhlbigobmV4dCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g5pu05paw5ZOB54mMIGxvZ29cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaS5pbWFnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmZvcm0uaWQgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogdGhpcy5pbWFnZS51cmwgLFxyXG4gICAgICAgICAgICAgICAgICAgIH0gLCAocmVzICwgY29kZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlICE9IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lTm90aWNlKHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm0oJ+aVheS6i+WIl+ihqCcgLCAnL3N0b3J5L2xpc3QnKTtcclxuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZSgnbG9hZGluZycgLCAnc3VibWl0JyAsICdzdWJtaXQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSAsXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9yZWYtLTAhLi90aGluZy5qcz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/cmVmLS0wIS4vdGhpbmcuanM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL3RoaW5nLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wMDk3N2EyOSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9qcy90aGluZy5qcz92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vanMvdGhpbmcuanM/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4uL3B1YmxpYy9jc3MvZ2xvYmFsLmNzcz92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmxhbmc9Y3NzJlwiXG5pbXBvcnQgc3R5bGUxIGZyb20gXCIuLi9wdWJsaWMvY3NzL3B1YmxpYy5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MSZpZD0wMDk3N2EyOSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIlxuaW1wb3J0IHN0eWxlMiBmcm9tIFwiLi9jc3MvdGhpbmcuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTImaWQ9MDA5NzdhMjkmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjAwOTc3YTI5XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiRDpcXFxcd29ya1xcXFxjb2RlXFxcXGNhclxcXFxwdWJsaWNcXFxcbW9kdWxlXFxcXGFkbWluXFxcXG5vZGVfbW9kdWxlc1xcXFx2dWUtaG90LXJlbG9hZC1hcGlcXFxcZGlzdFxcXFxpbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghbW9kdWxlLmhvdC5kYXRhKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwMDk3N2EyOScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwMDk3N2EyOScsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vdGhpbmcudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTAwOTc3YTI5JnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzAwOTc3YTI5Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJzb3VyY2UvdnVlL3ZpZXcvc3RvcnkvdGhpbmcudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL2dsb2JhbC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMS0xIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuL2dsb2JhbC5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZsYW5nPWNzcyZcIiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi9wdWJsaWMuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTEmaWQ9MDA5NzdhMjkmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi9wdWJsaWMuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTEmaWQ9MDA5NzdhMjkmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xLTEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4vdGhpbmcuY3NzP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTImaWQ9MDA5NzdhMjkmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEtMSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi90aGluZy5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MiZpZD0wMDk3N2EyOSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyZcIiJdLCJzb3VyY2VSb290IjoiIn0=